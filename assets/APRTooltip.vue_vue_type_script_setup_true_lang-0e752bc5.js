import{d as T,c as s,s as d,G as f,D as r,aT as F,a1 as b,H as n,ah as z,v as e,a0 as E,a2 as q,U as P,ai as G,aj as U,ak as J,p as O,b as H,z as N,fd as j,F as A,t as $,B as g,o as Y,C as V,aS as K,fe as Q,ff as W,q as M,dr as X,b4 as Z,aN as ee,b2 as te,fg as se,T as D,a8 as ae,a6 as oe}from"./index-4a1c513c.js";import{_ as ne}from"./pool-staking.provider-fee39c11.js";const re=l=>(G("data-v-812a7fef"),l=l(),U(),l),le=re(()=>r("div",{class:"horiz-bar"},null,-1)),ie={class:"grow"},de=T({__name:"BalBreakdown",props:{items:null,title:{default:"Title"},hideItems:{type:Boolean,default:!1},size:{default:"md"},offsetClassOverrides:{default:""},initVertBarClassOverrides:{default:""}},setup(l){const a=l,u=s(()=>{if(a.initVertBarClassOverrides!=null)return a.initVertBarClassOverrides;switch(a.size){case"lg":return"h-8 -mt-8";default:return"h-4 -mt-4"}}),i=s(()=>{switch(a.size){case"lg":return"h-16 -mt-16";default:return"h-8 -mt-8"}}),p=s(()=>{switch(a.size){case"lg":return"mt-4";default:return"mt-0"}}),c=s(()=>{if(a.offsetClassOverrides)return a.offsetClassOverrides;switch(a.size){case"lg":return"mt-3 ml-px";default:return"mt-2 ml-px"}});return(m,v)=>(d(),f("div",null,[r("div",null,[F(m.$slots,"default",{},()=>[b(n(l.title),1)],!0)]),l.hideItems?P("",!0):(d(),f("div",{key:0,class:z(["flex flex-col",e(c)])},[(d(!0),f(E,null,q(l.items,(o,_)=>(d(),f("div",{key:_,class:z(["flex items-center",{[e(p)]:_!==0}])},[_===0?(d(),f("div",{key:0,class:z(["init-vert-bar",e(u)])},null,2)):(d(),f("div",{key:1,class:z(["vert-bar",e(i)])},null,2)),le,r("div",ie,[F(m.$slots,"item",{item:o},void 0,!0)])],2))),128))],2))]))}});const L=J(de,[["__scopeId","data-v-812a7fef"]]),ce={"data-testid":"staking-apr"},pe={key:0},ue={class:"flex items-center"},me={class:"ml-1 text-secondarytext-xs"},_e={class:"flex items-center"},fe={class:"ml-1 text-xs text-secondary"},ve={class:"ml-1 text-xs capitalize text-secondary"},ke={key:1,class:"flex items-center"},he={class:"ml-1 text-xs text-secondary"},ye=T({__name:"StakingBreakdown",props:{pool:null,poolApr:null},setup(l){const a=l,{fNum:u}=O(),{getToken:i}=H(),p=s(()=>{var t;return((t=a.pool)==null?void 0:t.apr)||a.poolApr}),c=s(()=>{var t;return((t=a.pool)==null?void 0:t.boost)||""}),m=s(()=>!!c.value),v=s(()=>{var t;return(t=p.value)==null?void 0:t.stakingApr}),o=s(()=>{var t,B;return((t=v.value)==null?void 0:t.min)===((B=v.value)==null?void 0:B.max)}),_=s(()=>{var t;return((t=v.value)==null?void 0:t.min)||0}),k=s(()=>{var t;return((t=v.value)==null?void 0:t.max)||0}),h=s(()=>{var t;return((t=p.value)==null?void 0:t.rewardAprs.total)||0}),y=s(()=>N(h.value).gt(0)),x=s(()=>{if(p.value&&j(p.value)){const t=N(_.value).times(c.value).plus(h.value).toString();return u(t,A.bp)}return u(h.value,A.bp)}),w=s(()=>u(N(_.value).plus(h.value).toString(),A.bp)),S=s(()=>{var B;const t=[];if(o.value||t.push(["Min BAL",_.value],["Max BAL",k.value]),y.value){o.value&&t.push(["BAL",_.value]);const R=(B=p.value)==null?void 0:B.rewardAprs.breakdown;R?Object.keys(R).forEach(C=>{var I;t.push([((I=i(C))==null?void 0:I.symbol)||"Rewards",R[C]])}):t.push(["Rewards",h.value])}return t});return(t,B)=>{const R=L;return d(),f("div",ce,[e(m)?(d(),f("div",pe,[r("div",ue,[b(n(e(x))+" ",1),r("span",me,n(t.$t("staking.stakingApr")),1)])])):(d(),f(E,{key:1},[e(j)(e(p))?(d(),$(R,{key:0,items:e(S)},{item:g(({item:[C,I]})=>[b(n(e(u)(I,e(A).bp))+" ",1),r("span",ve,n(C)+" "+n(t.$t("apr")),1)]),default:g(()=>[r("div",_e,[b(n(e(w))+" ",1),r("span",fe,n(e(o)?t.$t("staking.stakingApr"):t.$t("staking.minimumStakingApr")),1)])]),_:1},8,["items"])):e(y)?(d(),f("div",ke,[b(n(e(u)(e(h),e(A).bp))+" ",1),r("span",he,n(t.$t("staking.stakingApr")),1)])):P("",!0)],64))])}}}),Ae={"data-testid":"vebal-apr"},be={class:"ml-1 text-xs text-secondary"},ge={class:"text-xs text-secondary"},xe=T({__name:"VeBalBreakdown",props:{apr:null},setup(l){const a=l,{fNum:u}=O(),{t:i}=Y(),p=s(()=>u(a.apr,A.bp)),c=s(()=>[i("tooltips.veBalApr.breakdown1"),i("tooltips.veBalApr.breakdown2")]);return(m,v)=>{const o=L;return d(),f("div",Ae,[V(o,{items:e(c)},{item:g(({item:_})=>[r("div",ge,n(_),1)]),default:g(()=>[b(n(e(p))+" ",1),r("span",be,n(m.$t("tooltips.veBalApr.title")),1)]),_:1},8,["items"])])}}}),we={"data-testid":"yield-apr"},Be={class:"flex items-center"},$e={class:"ml-1 text-xs text-secondary"},Re={class:"ml-1 text-xs text-secondary"},Pe=T({__name:"YieldBreakdown",props:{yieldAPR:null,pool:null},setup(l){const a=l,{getToken:u,getTokens:i}=H(),{fNum:p}=O(),{t:c}=Y(),m=s(()=>i(Object.keys(a.yieldAPR.breakdown))),v=s(()=>Object.keys(m.value).length>1),o=s(()=>{const k=Object.keys(a.yieldAPR.breakdown);if(K(a.pool))return c("yieldAprRewards.apr.boosted");if(k.length>1)return c("yieldAprRewards.apr.token");if(k.length===1){if(Q(k[0]))return c("yieldAprRewards.apr.boosted");if(W(k[0]))return c("yieldAprRewards.apr.veBAL");const h=M(k[0]),y=u(h);return y?`${y.symbol} ${c("apr")}`:c("yieldAprRewards.apr.token")}return""}),_=s(()=>Object.entries(a.yieldAPR.breakdown));return(k,h)=>{const y=L;return d(),f("div",we,[V(y,{items:e(_),hideItems:!e(v)},X({default:g(()=>[r("div",Be,[b(n(e(p)(l.yieldAPR.total,e(A).bp))+" ",1),r("span",$e,n(e(o)),1)])]),_:2},[e(v)?{name:"item",fn:g(({item:[x,w]})=>[b(n(e(p)(w,e(A).bp))+" ",1),r("span",Re,n(e(m)[e(M)(x)].symbol)+" "+n(k.$t("apr")),1)]),key:"0"}:void 0]),1032,["items","hideItems"])])}}}),Te={class:"ml-1"},Se={class:"text-sm divide-y dark:divide-gray-900"},Ce={class:"px-3 pt-3 pb-1 bg-gray-50 dark:bg-gray-800 rounded-t","data-testid":"total-apr"},Ie={class:"text-secondary"},ze={class:"text-lg font-bold normal-nums tracking-tighter"},Ne={class:"p-3 text-left"},Oe={class:"flex items-center mb-1 whitespace-nowrap","data-testid":"swap-fee-apr"},Ve={class:"ml-1 text-xs text-secondary"},je=T({__name:"APRTooltip",props:{pool:null,poolApr:null},setup(l){const a=l,{fNum:u}=O(),i=s(()=>{var o;return((o=a.pool)==null?void 0:o.apr)||a.poolApr}),p=s(()=>{var o;return Number(((o=i.value)==null?void 0:o.swapFees)||0)<=Z}),c=s(()=>{var o;return N(((o=i.value)==null?void 0:o.tokenAprs.total)||"0").gt(0)}),m=s(()=>ee(a.pool.id)),v=s(()=>i.value?te(i.value,a.pool.boost):"0");return(o,_)=>{const k=ne,h=ae,y=oe;return e(p)?(d(),$(y,{key:0,width:"auto",noPad:""},{activator:g(()=>[r("div",Te,[e(c)||e(se)(e(i))||e(m)?(d(),$(k,D({key:0,gradFrom:e(m)?"purple":"yellow",class:"-mr-1 h-4"},o.$attrs),null,16,["gradFrom"])):(d(),$(h,D({key:1,name:"info",size:"sm",class:"text-gray-400 dark:text-gray-500"},o.$attrs),null,16))])]),default:g(()=>{var x,w,S,t;return[r("div",Se,[r("div",Ce,[r("div",Ie,n(o.$t("totalAPR")),1),r("div",ze,n(e(v)),1)]),r("div",Ne,[r("div",Oe,[b(n(e(u)(((x=e(i))==null?void 0:x.swapFees)||"0",e(A).bp))+" ",1),r("span",Ve,n(o.$t("swapFeeAPR")),1)]),e(m)?(d(),$(xe,{key:0,apr:((w=e(i))==null?void 0:w.protocolApr)||0},null,8,["apr"])):P("",!0),(S=e(i))!=null&&S.tokenAprs&&e(c)?(d(),$(Pe,{key:1,yieldAPR:(t=e(i))==null?void 0:t.tokenAprs,pool:l.pool},null,8,["yieldAPR","pool"])):P("",!0),V(ye,{pool:l.pool,poolApr:e(i)},null,8,["pool","poolApr"])])])]}),_:1})):P("",!0)}}});export{je as _,L as a};
//# sourceMappingURL=APRTooltip.vue_vue_type_script_setup_true_lang-0e752bc5.js.map
