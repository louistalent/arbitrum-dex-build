var s=Object.defineProperty;var i=(o,t,e)=>t in o?s(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e;var r=(o,t,e)=>(i(o,typeof t!="symbol"?t+"":t,e),e);import{gl as l,gm as d}from"./index-4a1c513c.js";class w extends l{constructor(){super(...arguments);r(this,"id",d.InjectedTally)}async connect(){const e=window.ethereum||window.web3&&window.web3.currentProvider;if(e){this.provider=e,this.active.value=!0;let a=null,c=null;try{e.request&&(a=await e.request({method:"eth_requestAccounts"}),c=await e.request({method:"eth_chainId"}))}catch(n){n.code===4001?console.log("Please connect to MetaMask."):console.error(n)}if(!a){const n=await e.enable();a=(n==null?void 0:n.result)||n}a&&c&&(this.handleChainChanged(c),this.handleAccountsChanged(a))}else console.error("Tried to connect to MetaMask but it was not detected. Please install MetaMask.");return{provider:e,account:this.account,chainId:this.chainId}}}export{w as TallyConnector};
//# sourceMappingURL=tally.connector-4b264059.js.map
