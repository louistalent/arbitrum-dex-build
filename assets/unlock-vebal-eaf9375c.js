import{_ as w}from"./BalLoadingBlock.vue_vue_type_style_index_0_lang-3fa460ee.js";import{C}from"./Col3Layout-4539059c.js";import{u as F}from"./usePoolQuery-b97c571a.js";import{d as L,p as V,s as a,G as B,D as e,H as t,C as T,v as o,F as g,y as N,u as x,c as k,z as $,B as v,a as A,t as s,a1 as S,U as Q,aF as U,a0 as W,a7 as j,_ as z,b as D,az as E,aB as G,aG as R}from"./index-4a1c513c.js";import{_ as M}from"./MyVeBAL.vue_vue_type_script_setup_true_lang-68c0fe06.js";import{_ as q}from"./UnlockPreviewModal.vue_vue_type_script_setup_true_lang-5fc1f8ef.js";import{_ as H}from"./BalAsset-fe687731.js";import"./constants-f98f285a.js";import"./BalCircle-e6fd1d55.js";import"./BalActionSteps.vue_vue_type_script_setup_true_lang-78b4efb6.js";import"./useTransactionErrors-09c4ac25.js";import"./tslib.es6-b45817b3.js";const O={class:"mb-6"},Z={class:"pb-4"},J={class:"p-3 dark:bg-gray-800 rounded-lg border dark:border-gray-800"},K={class:"flex items-center"},X={class:"w-full"},Y={class:"flex justify-between"},oo={class:"flex justify-between text-gray-500"},eo=L({__name:"LockedAmount",props:{lockablePool:null,lockablePoolTokenInfo:null,totalLpTokens:null,fiatTotalLpTokens:null},setup(l){const{fNum:n}=V();return(r,_)=>{const d=H;return a(),B("div",O,[e("div",Z,t(r.$t("unlockVeBAL.unlockForm.lockedAmount.title")),1),e("div",J,[e("div",K,[T(d,{address:l.lockablePool.address,class:"mr-2",size:36},null,8,["address"]),e("div",X,[e("div",Y,[e("div",null,t(l.lockablePoolTokenInfo.symbol),1),e("div",null,t(o(n)(l.totalLpTokens,o(g).token)),1)]),e("div",oo,[e("div",null,t(l.lockablePoolTokenInfo.name),1),e("div",null,t(o(n)(l.fiatTotalLpTokens,o(g).fiat)),1)])])])])])}}}),lo={class:"w-full"},ao={class:"text-xs leading-none text-secondary"},no={class:"flex justify-between items-center"},to={class:"mt-6"},so=L({__name:"VeBalUnlockForm",props:{lockablePool:null,lockablePoolTokenInfo:null,veBalLockInfo:null},setup(l){const n=l,r=N(!1),{isWalletReady:_,startConnectWithInjectedProvider:d,isMismatchedNetwork:b}=x(),u=k(()=>{var c;return(c=n.veBalLockInfo)!=null&&c.isExpired?n.veBalLockInfo.lockedAmount:"0"}),p=k(()=>$(n.lockablePool.totalLiquidity).div(n.lockablePool.totalShares).times(u.value).toString()),f=k(()=>b.value?!0:$(u.value).isZero());return(c,i)=>{const m=j,P=z;return a(),B(W,null,[T(P,{shadow:"xl",exposeOverflow:"",noBorder:""},{header:v(()=>[e("div",lo,[e("div",ao,t(o(A).network.chainName),1),e("div",no,[e("h4",null,t(c.$t("unlockVeBAL.unlockForm.title")),1)])])]),default:v(()=>[T(eo,{lockablePool:l.lockablePool,lockablePoolTokenInfo:l.lockablePoolTokenInfo,totalLpTokens:o(u),fiatTotalLpTokens:o(p)},null,8,["lockablePool","lockablePoolTokenInfo","totalLpTokens","fiatTotalLpTokens"]),e("div",to,[o(_)?(a(),s(m,{key:1,color:"gradient",block:"",disabled:o(f),onClick:i[0]||(i[0]=y=>r.value=!0)},{default:v(()=>[S(t(c.$t("preview")),1)]),_:1},8,["disabled"])):(a(),s(m,{key:0,label:c.$t("connectWallet"),color:"gradient",block:"",onClick:o(d)},null,8,["label","onClick"]))])]),_:1}),(a(),s(U,{to:"#modal"},[r.value?(a(),s(q,{key:0,lockablePool:l.lockablePool,lockablePoolTokenInfo:l.lockablePoolTokenInfo,veBalLockInfo:l.veBalLockInfo,totalLpTokens:o(u),fiatTotalLpTokens:o(p),onClose:i[1]||(i[1]=y=>r.value=!1)},null,8,["lockablePool","lockablePoolTokenInfo","veBalLockInfo","totalLpTokens","fiatTotalLpTokens"])):Q("",!0)]))],64)}}}),co=L({__name:"UnlockForm",setup(l){const{getToken:n}=D(),{isWalletReady:r}=x(),{lockablePoolId:_}=E(),d=F(_.value),b=G(),u=k(()=>d.isLoading.value),p=k(()=>b.isLoading.value),f=k(()=>d.data.value),c=k(()=>f.value!=null?n(f.value.address):null),i=k(()=>b.data.value),m=k(()=>r.value?u.value||p.value:u.value);return(P,y)=>{const h=w;return a(),s(C,{offsetGutters:""},{gutterRight:v(()=>[o(m)?(a(),s(h,{key:0,class:"h-64"})):(a(),s(M,{key:1,veBalLockInfo:o(i)},null,8,["veBalLockInfo"]))]),default:v(()=>{var I;return[o(m)||!o(i)||!o(f)||!o(c)?(a(),s(h,{key:0,class:"h-96"})):(a(),s(so,{key:(I=o(i))!=null&&I.hasExistingLock?"veBalUnlockForm-hasLock":"veBalUnlockForm-noLock",lockablePool:o(f),lockablePoolTokenInfo:o(c),veBalLockInfo:o(i)},null,8,["lockablePool","lockablePoolTokenInfo","veBalLockInfo"]))]}),_:1})}}}),io={key:1,class:"text-center"},ko={class:"text-lg font-semibold"},yo=L({__name:"unlock-vebal",setup(l){return(n,r)=>o(R)?(a(),s(co,{key:0})):(a(),B("div",io,[e("div",ko,t(n.$t("veBAL.notSupported.title")),1),e("div",null,t(n.$t("veBAL.notSupported.description")),1)]))}});export{yo as default};
//# sourceMappingURL=unlock-vebal-eaf9375c.js.map
