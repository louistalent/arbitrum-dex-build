{"version":3,"file":"BalAssetSet-1d81bc3d.js","sources":["../../src/components/_global/BalAsset/BalAssetSet.vue","../../src/components/_global/BalAsset/BalAssetSet.vue"],"sourcesContent":["<template>\r\n  <template\r\n    v-for=\"(assetChunk, assetChunkIndex) in assetChunks\"\r\n    :key=\"assetChunkIndex\"\r\n  >\r\n    <div\r\n      :class=\"['addresses-row', assetRowClasses]\"\r\n      v-bind=\"$attrs\"\r\n      :style=\"{\r\n        width: `${width}px`,\r\n        height: `${size}px`,\r\n      }\"\r\n    >\r\n      <BalAsset\r\n        v-for=\"(addressOrURI, i) in assetChunk\"\r\n        :key=\"i\"\r\n        v-bind=\"{ ...assetAttrsFor(addressOrURI), ...balAssetProps }\"\r\n        :size=\"size\"\r\n        :class=\"[\r\n          'token-icon ring-2 ring-white dark:ring-gray-800 group-hover:ring-gray-50 dark:group-hover:ring-gray-800',\r\n          { absolute: !wrap, relative: wrap },\r\n        ]\"\r\n        :style=\"getBalAssetStyle(assetChunkIndex, i)\"\r\n        @click=\"$emit('click', addressOrURI)\"\r\n      />\r\n    </div>\r\n  </template>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { isAddress } from '@ethersproject/address';\r\nimport { chunk } from 'lodash';\r\n\r\nimport BalAsset from '@/components/_global/BalAsset/BalAsset.vue';\r\n\r\ntype BalAssetProps = {\r\n  address?: string;\r\n  iconURI?: string;\r\n  size?: number;\r\n  button?: boolean;\r\n  disabled?: boolean;\r\n};\r\n\r\nexport default defineComponent({\r\n  components: {\r\n    BalAsset,\r\n  },\r\n  props: {\r\n    addresses: {\r\n      type: Array as PropType<string[]>,\r\n      default: () => [],\r\n    },\r\n    disabledAddresses: {\r\n      type: Array as PropType<string[]>,\r\n      default: () => [],\r\n    },\r\n    logoURIs: {\r\n      type: Array as PropType<string[]>,\r\n      default: () => [],\r\n    },\r\n    balAssetProps: {\r\n      type: Object as PropType<BalAssetProps>,\r\n      default: () => ({}),\r\n    },\r\n    width: {\r\n      type: Number,\r\n      default: 200,\r\n    },\r\n    size: {\r\n      type: Number,\r\n      default: 26,\r\n    },\r\n    maxAssetsPerLine: {\r\n      type: Number,\r\n      default: 8,\r\n    },\r\n    wrap: {\r\n      type: Boolean,\r\n    },\r\n  },\r\n  emits: ['click'],\r\n\r\n  setup(props) {\r\n    /**\r\n     * COMPUTED\r\n     */\r\n    const hasAddresses = computed(\r\n      (): boolean => !!props.addresses && props.addresses.length > 0\r\n    );\r\n    const hasURIs = computed(\r\n      (): boolean => !!props.logoURIs && props.logoURIs.length > 0\r\n    );\r\n\r\n    const assetLength = computed((): number => {\r\n      if (hasAddresses.value) {\r\n        return props.addresses?.length || 0;\r\n      } else if (hasURIs.value) {\r\n        return props.logoURIs?.length || 0;\r\n      } else {\r\n        return 0;\r\n      }\r\n    });\r\n\r\n    const assetChunks = computed(() => {\r\n      if (hasAddresses.value) {\r\n        return chunk(props.addresses, props.maxAssetsPerLine);\r\n      } else if (hasURIs.value) {\r\n        return chunk(props.logoURIs, props.maxAssetsPerLine);\r\n      } else {\r\n        return [];\r\n      }\r\n    });\r\n\r\n    const assetRowClasses = computed(() => ({\r\n      'mb-3': assetChunks.value.length > 1,\r\n    }));\r\n\r\n    const radius = computed(() => props.size / 2);\r\n    const smallSetSpacer = computed(() =>\r\n      props.addresses.length < 4 ? 30 : 0\r\n    );\r\n\r\n    const spacer = computed(\r\n      () =>\r\n        (props.maxAssetsPerLine / assetLength.value - 1) * (radius.value * 2) +\r\n        smallSetSpacer.value\r\n    );\r\n\r\n    /**\r\n     * METHODS\r\n     */\r\n    function leftOffsetFor(i: number) {\r\n      if (props.wrap) return 0;\r\n      return (\r\n        ((props.width - radius.value * 2 + spacer.value) /\r\n          (props.maxAssetsPerLine - 1)) *\r\n        i\r\n      );\r\n    }\r\n\r\n    function assetAttrsFor(addressOrURI: string): BalAssetProps {\r\n      const addressOrURIProp = isAddress(addressOrURI)\r\n        ? { address: addressOrURI }\r\n        : { iconURI: addressOrURI };\r\n      return {\r\n        ...addressOrURIProp,\r\n        disabled: props.disabledAddresses.includes(addressOrURI),\r\n      };\r\n    }\r\n\r\n    function getBalAssetStyle(assetRowIndex: number, assetIndex: number) {\r\n      return {\r\n        left: `${leftOffsetFor(assetIndex)}px`,\r\n        zIndex: `${20 - assetIndex}`,\r\n        // After the first three rows, display any remaining tokens smaller to fit more in\r\n        width: `${assetRowIndex > 2 ? '24' : props.size}px`,\r\n        height: `${assetRowIndex > 2 ? '24' : props.size}px`,\r\n      };\r\n    }\r\n\r\n    return {\r\n      // computed\r\n      assetChunks,\r\n      assetRowClasses,\r\n\r\n      // methods\r\n      leftOffsetFor,\r\n      assetAttrsFor,\r\n      getBalAssetStyle,\r\n    };\r\n  },\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.addresses-row {\r\n  @apply relative flex z-0;\r\n}\r\n\r\n.token-icon {\r\n  margin-left: -2px;\r\n\r\n  @apply rounded-full overflow-hidden shadow-none;\r\n  @apply bg-white dark:bg-gray-850;\r\n}\r\n\r\n.my-wallet .token-icon {\r\n  @apply ml-0;\r\n}\r\n\r\n.my-wallet .addresses-row {\r\n  @apply flex-wrap gap-2;\r\n\r\n  width: auto !important;\r\n  height: auto !important;\r\n}\r\n\r\n.my-wallet .addresses-row > img,\r\n.my-wallet .addresses-row > .token-icon {\r\n  @apply border-0;\r\n}\r\n\r\n.addresses-row:last-child {\r\n  @apply mb-0;\r\n}\r\n</style>\r\n","<template>\r\n  <template\r\n    v-for=\"(assetChunk, assetChunkIndex) in assetChunks\"\r\n    :key=\"assetChunkIndex\"\r\n  >\r\n    <div\r\n      :class=\"['addresses-row', assetRowClasses]\"\r\n      v-bind=\"$attrs\"\r\n      :style=\"{\r\n        width: `${width}px`,\r\n        height: `${size}px`,\r\n      }\"\r\n    >\r\n      <BalAsset\r\n        v-for=\"(addressOrURI, i) in assetChunk\"\r\n        :key=\"i\"\r\n        v-bind=\"{ ...assetAttrsFor(addressOrURI), ...balAssetProps }\"\r\n        :size=\"size\"\r\n        :class=\"[\r\n          'token-icon ring-2 ring-white dark:ring-gray-800 group-hover:ring-gray-50 dark:group-hover:ring-gray-800',\r\n          { absolute: !wrap, relative: wrap },\r\n        ]\"\r\n        :style=\"getBalAssetStyle(assetChunkIndex, i)\"\r\n        @click=\"$emit('click', addressOrURI)\"\r\n      />\r\n    </div>\r\n  </template>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { isAddress } from '@ethersproject/address';\r\nimport { chunk } from 'lodash';\r\n\r\nimport BalAsset from '@/components/_global/BalAsset/BalAsset.vue';\r\n\r\ntype BalAssetProps = {\r\n  address?: string;\r\n  iconURI?: string;\r\n  size?: number;\r\n  button?: boolean;\r\n  disabled?: boolean;\r\n};\r\n\r\nexport default defineComponent({\r\n  components: {\r\n    BalAsset,\r\n  },\r\n  props: {\r\n    addresses: {\r\n      type: Array as PropType<string[]>,\r\n      default: () => [],\r\n    },\r\n    disabledAddresses: {\r\n      type: Array as PropType<string[]>,\r\n      default: () => [],\r\n    },\r\n    logoURIs: {\r\n      type: Array as PropType<string[]>,\r\n      default: () => [],\r\n    },\r\n    balAssetProps: {\r\n      type: Object as PropType<BalAssetProps>,\r\n      default: () => ({}),\r\n    },\r\n    width: {\r\n      type: Number,\r\n      default: 200,\r\n    },\r\n    size: {\r\n      type: Number,\r\n      default: 26,\r\n    },\r\n    maxAssetsPerLine: {\r\n      type: Number,\r\n      default: 8,\r\n    },\r\n    wrap: {\r\n      type: Boolean,\r\n    },\r\n  },\r\n  emits: ['click'],\r\n\r\n  setup(props) {\r\n    /**\r\n     * COMPUTED\r\n     */\r\n    const hasAddresses = computed(\r\n      (): boolean => !!props.addresses && props.addresses.length > 0\r\n    );\r\n    const hasURIs = computed(\r\n      (): boolean => !!props.logoURIs && props.logoURIs.length > 0\r\n    );\r\n\r\n    const assetLength = computed((): number => {\r\n      if (hasAddresses.value) {\r\n        return props.addresses?.length || 0;\r\n      } else if (hasURIs.value) {\r\n        return props.logoURIs?.length || 0;\r\n      } else {\r\n        return 0;\r\n      }\r\n    });\r\n\r\n    const assetChunks = computed(() => {\r\n      if (hasAddresses.value) {\r\n        return chunk(props.addresses, props.maxAssetsPerLine);\r\n      } else if (hasURIs.value) {\r\n        return chunk(props.logoURIs, props.maxAssetsPerLine);\r\n      } else {\r\n        return [];\r\n      }\r\n    });\r\n\r\n    const assetRowClasses = computed(() => ({\r\n      'mb-3': assetChunks.value.length > 1,\r\n    }));\r\n\r\n    const radius = computed(() => props.size / 2);\r\n    const smallSetSpacer = computed(() =>\r\n      props.addresses.length < 4 ? 30 : 0\r\n    );\r\n\r\n    const spacer = computed(\r\n      () =>\r\n        (props.maxAssetsPerLine / assetLength.value - 1) * (radius.value * 2) +\r\n        smallSetSpacer.value\r\n    );\r\n\r\n    /**\r\n     * METHODS\r\n     */\r\n    function leftOffsetFor(i: number) {\r\n      if (props.wrap) return 0;\r\n      return (\r\n        ((props.width - radius.value * 2 + spacer.value) /\r\n          (props.maxAssetsPerLine - 1)) *\r\n        i\r\n      );\r\n    }\r\n\r\n    function assetAttrsFor(addressOrURI: string): BalAssetProps {\r\n      const addressOrURIProp = isAddress(addressOrURI)\r\n        ? { address: addressOrURI }\r\n        : { iconURI: addressOrURI };\r\n      return {\r\n        ...addressOrURIProp,\r\n        disabled: props.disabledAddresses.includes(addressOrURI),\r\n      };\r\n    }\r\n\r\n    function getBalAssetStyle(assetRowIndex: number, assetIndex: number) {\r\n      return {\r\n        left: `${leftOffsetFor(assetIndex)}px`,\r\n        zIndex: `${20 - assetIndex}`,\r\n        // After the first three rows, display any remaining tokens smaller to fit more in\r\n        width: `${assetRowIndex > 2 ? '24' : props.size}px`,\r\n        height: `${assetRowIndex > 2 ? '24' : props.size}px`,\r\n      };\r\n    }\r\n\r\n    return {\r\n      // computed\r\n      assetChunks,\r\n      assetRowClasses,\r\n\r\n      // methods\r\n      leftOffsetFor,\r\n      assetAttrsFor,\r\n      getBalAssetStyle,\r\n    };\r\n  },\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.addresses-row {\r\n  @apply relative flex z-0;\r\n}\r\n\r\n.token-icon {\r\n  margin-left: -2px;\r\n\r\n  @apply rounded-full overflow-hidden shadow-none;\r\n  @apply bg-white dark:bg-gray-850;\r\n}\r\n\r\n.my-wallet .token-icon {\r\n  @apply ml-0;\r\n}\r\n\r\n.my-wallet .addresses-row {\r\n  @apply flex-wrap gap-2;\r\n\r\n  width: auto !important;\r\n  height: auto !important;\r\n}\r\n\r\n.my-wallet .addresses-row > img,\r\n.my-wallet .addresses-row > .token-icon {\r\n  @apply border-0;\r\n}\r\n\r\n.addresses-row:last-child {\r\n  @apply mb-0;\r\n}\r\n</style>\r\n"],"names":["_sfc_main","defineComponent","BalAsset","props","hasAddresses","computed","hasURIs","assetLength","_a","_b","assetChunks","chunk","assetRowClasses","radius","smallSetSpacer","spacer","leftOffsetFor","i","assetAttrsFor","addressOrURI","isAddress","getBalAssetStyle","assetRowIndex","assetIndex","__unplugin_components_0","_openBlock","_createElementBlock","_mergeProps","assetChunkIndex","_ctx","_createBlock","_component_BalAsset"],"mappings":"6JA2CA,MAAAA,EAAAC,EAAA,CAA+B,WAAA,CACjB,SAAAC,CACV,EACF,MAAA,CACO,UAAA,CACM,KAAA,MACH,QAAA,IAAA,CAAA,CACU,EAClB,kBAAA,CACmB,KAAA,MACX,QAAA,IAAA,CAAA,CACU,EAClB,SAAA,CACU,KAAA,MACF,QAAA,IAAA,CAAA,CACU,EAClB,cAAA,CACe,KAAA,OACP,QAAA,KAAA,CAAA,EACW,EACnB,MAAA,CACO,KAAA,OACC,QAAA,GACG,EACX,KAAA,CACM,KAAA,OACE,QAAA,EACG,EACX,iBAAA,CACkB,KAAA,OACV,QAAA,CACG,EACX,KAAA,CACM,KAAA,OACE,CACR,EACF,MAAA,CAAA,OAAA,EACe,MAAAC,EAAA,CAMb,MAAAC,EAAAC,EAAqB,IAAA,CAAA,CAAAF,EAAA,WAAAA,EAAA,UAAA,OAAA,CAC0C,EAE/DG,EAAAD,EAAgB,IAAA,CAAA,CAAAF,EAAA,UAAAA,EAAA,SAAA,OAAA,CAC6C,EAG7DI,EAAAF,EAAA,IAAA,SACE,OAAAD,EAAA,QACEI,EAAAL,EAAA,YAAA,YAAAK,EAAA,SAAA,EAAkCF,EAAA,SAElCG,EAAAN,EAAA,WAAA,YAAAM,EAAA,SAAA,CAGF,CAAA,EAGFC,EAAAL,EAAA,IACED,EAAA,MACEO,EAAA,MAAAR,EAAA,UAAAA,EAAA,gBAAA,EAAoDG,EAAA,MAEpDK,EAAA,MAAAR,EAAA,SAAAA,EAAA,gBAAA,EAEA,EACF,EAGFS,EAAAP,EAAA,KAAA,CAAwC,OAAAK,EAAA,MAAA,OAAA,CACH,EAAA,EAGrCG,EAAAR,EAAA,IAAAF,EAAA,KAAA,CAAA,EACAW,EAAAT,EAAuB,IAAAF,EAAA,UAAA,OAAA,EAAA,GAAA,CACa,EAGpCY,EAAAV,EAAe,KAAAF,EAAA,iBAAAI,EAAA,MAAA,IAAAM,EAAA,MAAA,GAAAC,EAAA,KAGI,EAMnB,SAAAE,EAAAC,EAAA,CACE,OAAAd,EAAA,KAAgB,GAChBA,EAAA,MAAAU,EAAA,MAAA,EAAAE,EAAA,QAAAZ,EAAA,iBAAA,GAAAc,CAGE,CAIJ,SAAAC,EAAAC,EAAA,CAIE,MAAA,CAAO,GAHPC,EAAAD,CAAA,EAAA,CAAA,QAAAA,GAAA,CAAA,QAAAA,GAIK,SAAAhB,EAAA,kBAAA,SAAAgB,CAAA,CACoD,CACzD,CAGF,SAAAE,EAAAC,EAAAC,EAAA,CACE,MAAA,CAAO,KAAA,GAAAP,EAAAO,CAAA,MAC4B,OAAA,GAAA,GAAAA,IACjB,MAAA,GAAAD,EAAA,EAAA,KAAAnB,EAAA,SAE2B,OAAA,GAAAmB,EAAA,EAAA,KAAAnB,EAAA,QACC,CAC9C,CAGF,MAAA,CAAO,YAAAO,EAEL,gBAAAE,EACA,cAAAI,EAGA,cAAAE,EACA,iBAAAG,CACA,CACF,CAEJ,CAAA,kCC1KEG,gDAKUC,EAAA,EAAAC,EAAA,MAAAC,EAAA,CAAmC,IAAAC,EACjC,MAAA,CAAA,gBAAAC,EAAA,eAAA,CACF,EAAAA,EAAA,OAAA,CAAuB,MAAA,2EAUrBJ,EAAA,EAAAK,EAAAC,EAAAJ,EAAA,CAAA,IAAAV,CAAA,EAAA,CAAA,GAAAY,EAAA,cAAAV,CAAA,EAAA,GAAAU,EAAA,eAAA,CAAA,KAAAA,EAAA,sHAIL,CAAA,SAAA,CAAAA,EAAA,KAAA,SAAAA,EAAA,IAAA,CAAuC"}