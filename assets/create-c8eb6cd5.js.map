{"version":3,"file":"create-c8eb6cd5.js","sources":["../../src/components/_global/BalVerticalSteps/BalVerticalSteps.vue","../../src/components/inputs/TokenInput/TokenWeightInput.vue","../../src/components/cards/CreatePool/ChooseWeights.vue","../../src/components/cards/CreatePool/InitialLiquidity.vue","../../src/components/_global/BalRadio/BalRadio.vue","../../src/components/_global/BalRadio/BalRadio.vue","../../src/components/cards/CreatePool/PoolFees.vue","../../node_modules/color.js/dist/color.esm.js","../../src/components/cards/CreatePool/PoolSummary.vue","../../src/components/_global/BalInlineInput/composables/useInlineInputStyles.ts","../../src/components/_global/BalInlineInput/BalInlineInput.vue","../../src/components/cards/CreatePool/CreateActions.vue","../../src/components/cards/CreatePool/PreviewPool.vue","../../src/components/cards/CreatePool/SimilarPools.vue","../../src/components/cards/CreatePool/SimilarPoolsCompact.vue","../../src/assets/images/icons/coingecko.svg","../../src/components/cards/CreatePool/TokenPrices.vue","../../src/components/modals/UnknownTokenPrice/UnknownTokenPriceModal.vue","../../src/pages/pool/create.vue"],"sourcesContent":["<script lang=\"ts\" setup>\r\nimport { StepState } from '@/types';\r\n\r\ntype Props = {\r\n  title: string;\r\n  steps: Step[];\r\n};\r\n\r\ntype Step = {\r\n  tooltip: string;\r\n  state: StepState;\r\n  label?: number;\r\n  isVisible?: boolean;\r\n};\r\n\r\nconst props = defineProps<Props>();\r\nconst emit = defineEmits(['navigate']);\r\n\r\n/**\r\n * COMPUTED\r\n */\r\nconst visibleSteps = computed(() => {\r\n  return props.steps.filter(\r\n    step => step.isVisible === undefined || step.isVisible\r\n  );\r\n});\r\n\r\nconst stepTextClasses = computed(() => {\r\n  return visibleSteps.value.map(step => {\r\n    return getActiveClassName(step.state, [\r\n      [\r\n        StepState.Active,\r\n        'text-blue-600 dark:text-blue-400 font-semibold hover:text-blue-800',\r\n      ],\r\n      [StepState.Todo, 'text-gray-400 font-normal'],\r\n      [StepState.Success, 'text-green-500 font-semibold'],\r\n      [StepState.Warning, 'text-red-500 font-semibold'],\r\n      [StepState.Completed, 'text-gray-700 font-medium'],\r\n    ]);\r\n  });\r\n});\r\n\r\nconst stepCircleClasses = computed(() => {\r\n  return visibleSteps.value.map(step => {\r\n    return getActiveClassName(step.state, [\r\n      [\r\n        StepState.Active,\r\n        'border-2 border-none bg-gradient-from-l bg-gradient-to-r from-blue-600 to-blue-400 text-white active',\r\n      ],\r\n      [\r\n        StepState.Todo,\r\n        'border-2 border-gray-300 dark:border-gray-600 text-secondary',\r\n      ],\r\n      [\r\n        StepState.Success,\r\n        'border-2 border-none bg-gradient-to-tr from-green-500 to-green-200 text-white',\r\n      ],\r\n      [StepState.Warning, 'border-2 border-none bg-red-500 text-white active'],\r\n      [StepState.Completed, 'border-2 border-gray-600 font-medium'],\r\n    ]);\r\n  });\r\n});\r\n\r\n/**\r\n * METHODS\r\n */\r\nfunction handleNavigate(state: StepState, stepIndex: number) {\r\n  if (state === StepState.Todo) return;\r\n  emit('navigate', stepIndex);\r\n}\r\n\r\nfunction getActiveClassName<T>(state: T, classes: [T, string][]) {\r\n  return (classes.find(_class => _class[0] === state) || [])[1] || '';\r\n}\r\n</script>\r\n\r\n<template>\r\n  <BalCard noPad shadow=\"none\">\r\n    <div class=\"p-4 border-b dark:border-gray-600\">\r\n      <h6 class=\"dark:text-gray-300\">\r\n        {{ title }}\r\n      </h6>\r\n    </div>\r\n    <BalStack vertical spacing=\"base\" class=\"p-4\" justify=\"center\">\r\n      <div\r\n        v-for=\"(step, i) in visibleSteps\"\r\n        :key=\"`vertical-step-${step.tooltip}`\"\r\n        class=\"flex items-center\"\r\n      >\r\n        <button\r\n          :class=\"{ 'cursor-default': step.state === StepState.Todo }\"\r\n          @click=\"handleNavigate(step.state, i)\"\r\n        >\r\n          <BalStack horizontal align=\"center\" spacing=\"sm\">\r\n            <div\r\n              :class=\"[\r\n                'relative text-sm rounded-full w-7 h-7 flex justify-center items-center',\r\n                stepCircleClasses[i],\r\n                { 'circle-line': i !== visibleSteps.length - 1 },\r\n              ]\"\r\n            >\r\n              <div\r\n                class=\"flex absolute top-0 right-0 bottom-0 left-0 justify-center items-center mx-auto w-4\"\r\n              >\r\n                <span\r\n                  v-if=\"\r\n                    ![StepState.Warning, StepState.Error].includes(step.state)\r\n                  \"\r\n                  >{{ step.label || i + 1 }}</span\r\n                >\r\n                <span v-else class=\"font-semibold\">!</span>\r\n              </div>\r\n            </div>\r\n            <span :class=\"['text-sm', stepTextClasses[i]]\">\r\n              {{ step.tooltip }}\r\n            </span>\r\n          </BalStack>\r\n        </button>\r\n      </div>\r\n    </BalStack>\r\n  </BalCard>\r\n</template>\r\n\r\n<style scoped>\r\n.circle-line::after {\r\n  @apply absolute left-0 right-0 my-0 mx-auto bg-gray-300 dark:bg-gray-600 w-px;\r\n\r\n  content: '';\r\n  bottom: -1.125rem;\r\n  height: 1rem;\r\n}\r\n\r\n.circle-line.active::after {\r\n  bottom: -1rem;\r\n  height: 1rem;\r\n}\r\n</style>\r\n","<script setup lang=\"ts\">\r\nimport { computed, ref, watchEffect } from 'vue';\r\nimport anime from 'animejs';\r\n\r\nimport TokenSelectInput from '@/components/inputs/TokenSelectInput/TokenSelectInput.vue';\r\nimport { useTokens } from '@/providers/tokens.provider';\r\nimport { TokenInfo } from '@/types/TokenList';\r\n\r\n/**\r\n * TYPES\r\n */\r\ntype InputValue = string | number;\r\n\r\ntype Props = {\r\n  address?: string;\r\n  weight?: number;\r\n  label?: string;\r\n  fixedToken?: boolean;\r\n  hint?: string;\r\n  hintAmount?: string;\r\n  excludedTokens?: string[];\r\n};\r\n\r\n/**\r\n * PROPS & EMITS\r\n */\r\nconst props = withDefaults(defineProps<Props>(), {\r\n  address: '',\r\n  weight: 0,\r\n  hintAmount: '',\r\n  label: '',\r\n  hint: '',\r\n  excludedTokens: () => [],\r\n});\r\n\r\nconst emit = defineEmits<{\r\n  (e: 'blur', value: string): void;\r\n  (e: 'input', value: string): void;\r\n  (e: 'update:weight', value: string): void;\r\n  (e: 'update:address', value: string): void;\r\n  (e: 'update:isValid', value: boolean): void;\r\n  (e: 'update:isLocked', value: boolean): void;\r\n  (e: 'keydown', value: KeyboardEvent);\r\n  (e: 'delete'): void;\r\n}>();\r\n\r\n/**\r\n * STATE\r\n */\r\nconst _weight = ref<InputValue>('');\r\nconst _address = ref<string>('');\r\nconst lockPath = ref<HTMLElement>();\r\nconst lockIcon = ref<HTMLElement>();\r\nconst isLocked = ref(false);\r\n\r\n/**\r\n * COMPOSABLEs\r\n */\r\nconst { getToken } = useTokens();\r\n\r\n/**\r\n * COMPUTED\r\n */\r\nconst hasToken = computed(() => !!_address.value);\r\n\r\nconst token = computed((): TokenInfo | undefined => {\r\n  if (!hasToken.value) return undefined;\r\n  return getToken(_address.value);\r\n});\r\n\r\n/**\r\n * METHODS\r\n */\r\nfunction lockWeight(keepLocked?: boolean) {\r\n  if (isLocked.value && !keepLocked) {\r\n    anime({\r\n      targets: lockPath.value,\r\n      d: 'M7 11V7a5 4 0 0 1 10 -2v-1',\r\n      easing: 'spring(0.2, 80, 10, 0)',\r\n    });\r\n    isLocked.value = false;\r\n  } else {\r\n    if (!isLocked.value) {\r\n      anime({\r\n        targets: lockPath.value,\r\n        d: 'M7 11V7a5 5 0 0 1 10 0v4',\r\n        easing: 'spring(0.2, 80, 10, 0)',\r\n      });\r\n\r\n      anime({\r\n        delay: 125,\r\n        targets: lockIcon.value,\r\n        translateY: '1px',\r\n        easing: 'linear',\r\n        duration: 100,\r\n        complete: () => {\r\n          anime({\r\n            targets: lockIcon.value,\r\n            translateY: '0px',\r\n            easing: 'linear',\r\n            duration: 100,\r\n          });\r\n        },\r\n      });\r\n    }\r\n    isLocked.value = true;\r\n  }\r\n  emit('update:isLocked', isLocked.value);\r\n}\r\n\r\nfunction onInput(event) {\r\n  emit('input', event);\r\n  lockWeight(true);\r\n}\r\n\r\n/**\r\n * CALLBACKS\r\n */\r\nwatchEffect(() => {\r\n  _weight.value = props.weight;\r\n  _address.value = props.address;\r\n});\r\n</script>\r\n\r\n<template>\r\n  <BalTextInput\r\n    v-model=\"_weight\"\r\n    name=\"weight\"\r\n    :placeholder=\"hintAmount || '0.0'\"\r\n    type=\"number\"\r\n    :label=\"label\"\r\n    :decimalLimit=\"token?.decimals || 18\"\r\n    validateOn=\"input\"\r\n    autocomplete=\"off\"\r\n    autocorrect=\"off\"\r\n    noShadow\r\n    noBorder\r\n    noRadius\r\n    step=\"any\"\r\n    spellcheck=\"false\"\r\n    v-bind=\"$attrs\"\r\n    inputAlignRight\r\n    @blur=\"emit('blur', $event)\"\r\n    @input=\"onInput\"\r\n    @update:model-value=\"emit('update:weight', $event)\"\r\n    @update:is-valid=\"emit('update:isValid', $event)\"\r\n    @keydown=\"emit('keydown', $event)\"\r\n  >\r\n    <template #prepend>\r\n      <TokenSelectInput\r\n        v-model=\"_address\"\r\n        :fixed=\"fixedToken\"\r\n        class=\"mr-2\"\r\n        :excludedTokens=\"excludedTokens\"\r\n        @update:model-value=\"emit('update:address', $event)\"\r\n      />\r\n    </template>\r\n    <template #append>\r\n      <BalStack align=\"center\" horizontal spacing=\"none\">\r\n        <BalIcon name=\"percent\" size=\"sm\" class=\"mt-3 text-gray-600\" />\r\n        <button\r\n          :class=\"[\r\n            'ml-2 ease-color mt-1 text-secondary hover:text-blue-800 dark:hover:text-blue-800 flex items-center shadow-sm border dark:border-0 bg-gray-50 dark:bg-gray-850 rounded-full p-1 justify-center',\r\n            {\r\n              'text-blue-600 dark:text-blue-400': isLocked,\r\n              'border-transparent': !isLocked,\r\n            },\r\n          ]\"\r\n          @click=\"lockWeight(false)\"\r\n        >\r\n          <svg\r\n            ref=\"lockIcon\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"16\"\r\n            height=\"16\"\r\n            viewBox=\"0 0 24 24\"\r\n            fill=\"none\"\r\n            stroke=\"currentColor\"\r\n            stroke-width=\"2\"\r\n            stroke-linecap=\"round\"\r\n            stroke-linejoin=\"round\"\r\n            class=\"feather feather-unlock\"\r\n          >\r\n            <rect x=\"3\" y=\"11\" width=\"18\" height=\"11\" rx=\"2\" ry=\"2\" />\r\n            <path ref=\"lockPath\" d=\"M7 11V7a5 4 0 0 1 10 -2v-1\" />\r\n          </svg>\r\n        </button>\r\n        <button\r\n          :class=\"[\r\n            'ml-2 ease-color mt-1 text-secondary hover:text-red-500 dark:hover:text-red-500 flex items-center shadow-sm border dark:border-0 bg-gray-50 dark:bg-gray-850 rounded-full p-1 justify-center',\r\n          ]\"\r\n          @click=\"emit('delete')\"\r\n        >\r\n          <BalIcon name=\"trash-2\" size=\"sm\" />\r\n        </button>\r\n      </BalStack>\r\n    </template>\r\n  </BalTextInput>\r\n</template>\r\n\r\n<style scoped>\r\n.ease-color {\r\n  transition: color border-color easeout 0.1s;\r\n}\r\n</style>\r\n","<script setup lang=\"ts\">\r\nimport anime from 'animejs';\r\nimport { sum, sumBy, uniqueId } from 'lodash';\r\nimport { ComponentPublicInstance } from 'vue';\r\nimport { useI18n } from 'vue-i18n';\r\n\r\nimport AnimatePresence from '@/components/animate/AnimatePresence.vue';\r\nimport TokenWeightInput from '@/components/inputs/TokenInput/TokenWeightInput.vue';\r\nimport usePoolCreation, {\r\n  PoolSeedToken,\r\n} from '@/composables/pools/usePoolCreation';\r\nimport useBreakpoints from '@/composables/useBreakpoints';\r\nimport useDarkMode from '@/composables/useDarkMode';\r\nimport useNumbers, { FNumFormats } from '@/composables/useNumbers';\r\nimport { useTokens } from '@/providers/tokens.provider';\r\nimport { bnum } from '@/lib/utils';\r\nimport { configService } from '@/services/config/config.service';\r\nimport useWeb3 from '@/services/web3/useWeb3';\r\n\r\nconst emit = defineEmits(['update:height', 'trigger:alert']);\r\n\r\nconst emptyTokenWeight: PoolSeedToken = {\r\n  tokenAddress: '',\r\n  weight: 0,\r\n  id: '0',\r\n  isLocked: false,\r\n  amount: '0',\r\n};\r\n\r\n/**\r\n * COMPOSABLES\r\n */\r\nconst {\r\n  updateTokenWeights,\r\n  proceed,\r\n  acceptCustomTokenDisclaimer,\r\n  setTokensList,\r\n  seedTokens,\r\n  tokensList,\r\n  totalLiquidity,\r\n  hasInjectedToken,\r\n  acceptedCustomTokenDisclaimer,\r\n} = usePoolCreation();\r\nconst { upToLargeBreakpoint } = useBreakpoints();\r\nconst { fNum } = useNumbers();\r\nconst { nativeAsset, getToken } = useTokens();\r\nconst { isWalletReady, startConnectWithInjectedProvider } = useWeb3();\r\nconst { t } = useI18n();\r\nconst { darkMode } = useDarkMode();\r\n\r\n/**\r\n * STATE\r\n */\r\nconst networkName = configService.network.name;\r\n\r\nconst tokenWeightListWrapper = ref<HTMLElement>();\r\nconst addTokenRowElement = ref<HTMLElement>();\r\nconst totalsRowElement = ref<HTMLElement>();\r\nconst seedTokenElements = ref<(Element | ComponentPublicInstance)[]>([]);\r\nconst cardWrapper = ref<HTMLElement>();\r\nconst wrapperHeight = ref(0);\r\nconst cardWrapperHeight = ref(0);\r\n\r\n/**\r\n * COMPUTED\r\n */\r\nconst tokenWeightItemHeight = computed(() =>\r\n  upToLargeBreakpoint.value ? 56 : 64\r\n);\r\n\r\nconst zeroWeightToken = computed(() => {\r\n  const validTokens = seedTokens.value.filter(t => t.tokenAddress !== '');\r\n  const zeroWeightToken = validTokens.find(t => t.weight === 0);\r\n  if (zeroWeightToken) {\r\n    return getToken(zeroWeightToken.tokenAddress);\r\n  }\r\n  return null;\r\n});\r\n\r\nconst walletLabel = computed(() => {\r\n  if (!isWalletReady.value) {\r\n    return t('connectWallet');\r\n  }\r\n  if (showLiquidityAlert.value) {\r\n    return t('continueAnyway');\r\n  }\r\n  return t('next');\r\n});\r\n\r\nconst totalAllocatedWeight = computed(() => {\r\n  const validTokens = seedTokens.value.filter(t => t.tokenAddress !== '');\r\n  const validPercentage = sumBy(validTokens, 'weight');\r\n  return validPercentage.toFixed(2);\r\n});\r\n\r\nconst totalWeight = computed(() => {\r\n  const pct = sumBy(seedTokens.value, 'weight');\r\n  return pct.toFixed(2);\r\n});\r\n\r\nconst isProceedDisabled = computed(() => {\r\n  if (!isWalletReady.value) return false;\r\n  if (Number(totalAllocatedWeight.value) !== 100) return true;\r\n  if (seedTokens.value.length < 2) return true;\r\n  if (zeroWeightToken.value) return true;\r\n  if (hasInjectedToken.value && !acceptedCustomTokenDisclaimer.value)\r\n    return true;\r\n  return false;\r\n});\r\n\r\nconst showLiquidityAlert = computed(() => {\r\n  const validTokens = seedTokens.value.filter(t => t.tokenAddress !== '');\r\n  return totalLiquidity.value.lt(20000) && validTokens.length >= 2;\r\n});\r\n\r\nconst excludedTokens = computed((): string[] => {\r\n  return [nativeAsset.address, ...tokensList.value];\r\n});\r\n\r\nconst maxTokenAmountReached = computed(() => {\r\n  return seedTokens.value.length >= 8;\r\n});\r\n\r\nconst progressBarColor = computed(() => {\r\n  if (\r\n    Number(totalAllocatedWeight.value) > 100 ||\r\n    Number(totalAllocatedWeight.value) <= 0\r\n  ) {\r\n    return 'red';\r\n  }\r\n  return 'green';\r\n});\r\n\r\nconst weightColor = computed(() => {\r\n  if (Number(totalWeight.value) > 100 || Number(totalWeight.value) <= 0) {\r\n    return 'text-red-500';\r\n  }\r\n  return darkMode.value ? 'text-gray-300' : 'text-gray-800';\r\n});\r\n\r\n/**\r\n * WATCHERS\r\n */\r\nwatch(\r\n  () => seedTokens,\r\n  () => {\r\n    setTokensList(seedTokens.value.map(w => w.tokenAddress));\r\n  },\r\n  {\r\n    deep: true,\r\n  }\r\n);\r\n\r\n/**\r\n * LIFECYCLE\r\n */\r\nonMounted(async () => {\r\n  // retrieving height causes reflow, get the height of the wrapper once\r\n  // and manually uptick it when we add items to prevent double reflow during anim\r\n  wrapperHeight.value = tokenWeightListWrapper.value?.offsetHeight || 0;\r\n  cardWrapperHeight.value = cardWrapper.value?.offsetHeight || 0;\r\n\r\n  // add in the first token list item\r\n  if (!seedTokens.value.length) {\r\n    addTokenToPool();\r\n    addTokenToPool();\r\n  } else {\r\n    await animateHeight(seedTokens.value.length);\r\n  }\r\n  // wait for vue to reflect the changes of above\r\n  await nextTick();\r\n  distributeWeights();\r\n});\r\n\r\nonBeforeUpdate(() => {\r\n  seedTokenElements.value = [];\r\n});\r\n\r\n/**\r\n * FUNCTIONS\r\n */\r\nfunction handleWeightChange(weight: string, id: number) {\r\n  const tokenWeight = seedTokens.value[id];\r\n  tokenWeight.weight = Number(weight);\r\n\r\n  distributeWeights();\r\n}\r\n\r\nfunction handleAddressChange(address: string, id: number) {\r\n  const tokenWeight = seedTokens.value[id];\r\n  tokenWeight.tokenAddress = address;\r\n}\r\n\r\nfunction handleLockedWeight(isLocked: boolean, id: number) {\r\n  const tokenWeight = seedTokens.value[id];\r\n  tokenWeight.isLocked = isLocked;\r\n  distributeWeights();\r\n}\r\n\r\nasync function animateHeight(offset = 0) {\r\n  // animate the height initially\r\n  emit('update:height', {\r\n    height:\r\n      (cardWrapper.value?.offsetHeight || 0) +\r\n      tokenWeightItemHeight.value * offset,\r\n  });\r\n  anime({\r\n    targets: tokenWeightListWrapper.value,\r\n    height: `${wrapperHeight.value + tokenWeightItemHeight.value * offset}px`,\r\n    complete: () => {\r\n      emit('update:height', {\r\n        height: cardWrapper.value?.offsetHeight || 0,\r\n      });\r\n    },\r\n  });\r\n  wrapperHeight.value += tokenWeightItemHeight.value * offset;\r\n  // to avoid reflow we are going to transform the totals + add token\r\n  // down instead of having the new token weight item shift them\r\n  anime({\r\n    targets: [totalsRowElement.value, addTokenRowElement.value],\r\n    translateY: `${tokenWeightItemHeight.value * seedTokens.value.length}px`,\r\n    easing: 'spring(0.4, 500, 9, 0)',\r\n  });\r\n  await nextTick();\r\n  // get the last added token weight element\r\n  seedTokenElements.value.forEach((seedTokenElement, i) => {\r\n    anime.set(seedTokenElement, {\r\n      left: 0,\r\n      right: 0,\r\n      top: `${tokenWeightItemHeight.value * i}px`,\r\n    });\r\n  });\r\n}\r\n\r\nasync function addTokenToPool() {\r\n  const newWeights: PoolSeedToken[] = [\r\n    ...seedTokens.value,\r\n    { ...emptyTokenWeight, id: uniqueId() } as PoolSeedToken,\r\n  ];\r\n  updateTokenWeights(newWeights);\r\n  await animateHeight(1);\r\n  distributeWeights();\r\n}\r\n\r\nfunction distributeWeights() {\r\n  // get all the locked weights and sum those bad boys\r\n  let lockedPct = sum(\r\n    seedTokens.value.filter(w => w.isLocked).map(w => w.weight / 100)\r\n  );\r\n  // makes it so that new allocations are set as 0\r\n  if (lockedPct > 1) lockedPct = 1;\r\n  const pctAvailableToDistribute = bnum(1).minus(lockedPct);\r\n  const unlockedWeights = seedTokens.value.filter(w => !w.isLocked);\r\n  const evenDistributionWeight = pctAvailableToDistribute.div(\r\n    unlockedWeights.length\r\n  );\r\n\r\n  const error = pctAvailableToDistribute.minus(\r\n    evenDistributionWeight.times(unlockedWeights.length)\r\n  );\r\n  const isErrorDivisible = error.mod(unlockedWeights.length).eq(0);\r\n  const distributableError = isErrorDivisible\r\n    ? error.div(unlockedWeights.length)\r\n    : error;\r\n\r\n  const normalisedWeights = unlockedWeights.map((_, i) => {\r\n    const evenDistributionWeight4DP = Number(evenDistributionWeight.toFixed(4));\r\n    const errorScaledTo4DP = Number(distributableError.toString()) * 1e14;\r\n    if (!isErrorDivisible && i === 0) {\r\n      return evenDistributionWeight4DP + errorScaledTo4DP;\r\n    } else if (isErrorDivisible) {\r\n      return evenDistributionWeight4DP + errorScaledTo4DP;\r\n    } else {\r\n      return evenDistributionWeight4DP;\r\n    }\r\n  });\r\n\r\n  unlockedWeights.forEach((tokenWeight, i) => {\r\n    tokenWeight.weight = Number((normalisedWeights[i] * 100).toFixed(2));\r\n  });\r\n}\r\n\r\nfunction addTokenListElementRef(el: Element | ComponentPublicInstance | null) {\r\n  if (!el) return;\r\n  // const filteredElements = seedTokenElements.value.filter(e => e !== null);\r\n  if (!seedTokenElements.value.includes(el) && el) {\r\n    seedTokenElements.value.push(el);\r\n  }\r\n}\r\n\r\nasync function handleRemoveToken(index: number) {\r\n  updateTokenWeights(seedTokens.value.filter((_, i) => i !== index));\r\n  await nextTick();\r\n  seedTokenElements.value = seedTokenElements.value.filter(\r\n    (_, i) => i !== index\r\n  );\r\n  distributeWeights();\r\n  animateHeight(-1);\r\n}\r\n\r\nfunction handleProceed() {\r\n  if (!isWalletReady.value) {\r\n    startConnectWithInjectedProvider();\r\n  } else {\r\n    proceed();\r\n  }\r\n}\r\n\r\nfunction onAlertMountChange() {\r\n  emit('update:height', {\r\n    height: cardWrapper.value?.offsetHeight || 0,\r\n  });\r\n}\r\n</script>\r\n\r\n<template>\r\n  <div ref=\"cardWrapper\" class=\"mb-16\">\r\n    <BalCard shadow=\"xl\" noBorder>\r\n      <BalStack vertical spacing=\"sm\">\r\n        <BalStack vertical spacing=\"xs\">\r\n          <span class=\"text-xs text-secondary\">{{ networkName }}</span>\r\n          <h5 class=\"font-semibold dark:text-gray-300\">\r\n            {{ $t('createAPool.chooseTokenWeights') }}\r\n          </h5>\r\n        </BalStack>\r\n        <BalCard shadow=\"none\" noPad>\r\n          <div ref=\"tokenWeightListWrapper\">\r\n            <div class=\"flex flex-col\">\r\n              <div\r\n                class=\"flex justify-between p-2 px-4 w-full bg-gray-50 dark:bg-gray-850\"\r\n              >\r\n                <h6>{{ $t('token') }}</h6>\r\n                <h6>{{ $t('weight') }}</h6>\r\n              </div>\r\n              <div class=\"relative w-full\">\r\n                <div\r\n                  v-for=\"(token, i) of seedTokens\"\r\n                  :key=\"`tokenweight-${token.id}`\"\r\n                  :ref=\"addTokenListElementRef\"\r\n                  class=\"absolute w-full\"\r\n                >\r\n                  <AnimatePresence isVisible>\r\n                    <TokenWeightInput\r\n                      v-model:weight=\"seedTokens[i].weight\"\r\n                      v-model:address=\"seedTokens[i].tokenAddress\"\r\n                      noRules\r\n                      noMax\r\n                      :excludedTokens=\"excludedTokens\"\r\n                      @update:weight=\"data => handleWeightChange(data, i)\"\r\n                      @update:address=\"data => handleAddressChange(data, i)\"\r\n                      @update:is-locked=\"data => handleLockedWeight(data, i)\"\r\n                      @delete=\"() => handleRemoveToken(i)\"\r\n                    />\r\n                  </AnimatePresence>\r\n                </div>\r\n              </div>\r\n\r\n              <div ref=\"addTokenRowElement\" class=\"p-3\">\r\n                <BalBtn\r\n                  :disabled=\"maxTokenAmountReached\"\r\n                  outline\r\n                  :color=\"maxTokenAmountReached ? 'gray' : 'blue'\"\r\n                  size=\"sm\"\r\n                  @click=\"addTokenToPool\"\r\n                >\r\n                  {{ $t('addToken') }}\r\n                </BalBtn>\r\n              </div>\r\n              <div\r\n                ref=\"totalsRowElement\"\r\n                class=\"p-2 px-4 w-full bg-gray-50 dark:bg-gray-850\"\r\n              >\r\n                <div class=\"flex justify-between w-full\">\r\n                  <h6>{{ $t('totalAllocated') }}</h6>\r\n                  <BalStack horizontal spacing=\"xs\" align=\"center\">\r\n                    <h6 :class=\"weightColor\">{{ totalAllocatedWeight }}%</h6>\r\n                    <BalIcon\r\n                      v-if=\"\r\n                        Number(totalWeight) > 100 || Number(totalWeight) <= 0\r\n                      \"\r\n                      class=\"mt-px text-red-500\"\r\n                      name=\"alert-circle\"\r\n                      size=\"sm\"\r\n                    />\r\n                  </BalStack>\r\n                </div>\r\n                <BalProgressBar\r\n                  :color=\"progressBarColor\"\r\n                  :width=\"totalAllocatedWeight\"\r\n                  :bufferWidth=\"0\"\r\n                  class=\"my-2\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </BalCard>\r\n        <AnimatePresence\r\n          :isVisible=\"showLiquidityAlert && isWalletReady\"\r\n          unmountInstantly\r\n          @on-presence=\"onAlertMountChange\"\r\n          @on-exit=\"onAlertMountChange\"\r\n        >\r\n          <BalAlert\r\n            :title=\"$t('createAPool.recommendedLiquidity')\"\r\n            type=\"warning\"\r\n          >\r\n            {{\r\n              $t('createAPool.youCanFundWithThisPoolWith', [\r\n                fNum(totalLiquidity.toString(), FNumFormats.fiat),\r\n              ])\r\n            }}\r\n          </BalAlert>\r\n        </AnimatePresence>\r\n        <AnimatePresence\r\n          :isVisible=\"!!zeroWeightToken\"\r\n          unmountInstantly\r\n          @on-presence=\"onAlertMountChange\"\r\n          @on-exit=\"onAlertMountChange\"\r\n        >\r\n          <BalAlert :title=\"$t('createAPool.zeroWeightTitle')\" type=\"error\">\r\n            {{ $t('createAPool.zeroWeightInfo') }}\r\n          </BalAlert>\r\n        </AnimatePresence>\r\n        <AnimatePresence\r\n          :isVisible=\"Number(totalWeight) > 100 || Number(totalWeight) <= 0\"\r\n          unmountInstantly\r\n          @on-presence=\"onAlertMountChange\"\r\n          @on-exit=\"onAlertMountChange\"\r\n        >\r\n          <BalAlert\r\n            :title=\"$t('createAPool.totalWeightAlertTitle')\"\r\n            type=\"error\"\r\n          >\r\n            {{ $t('createAPool.totalWeightAlert', [zeroWeightToken?.symbol]) }}\r\n          </BalAlert>\r\n        </AnimatePresence>\r\n        <AnimatePresence\r\n          :isVisible=\"hasInjectedToken && !acceptedCustomTokenDisclaimer\"\r\n          unmountInstantly\r\n          @on-presence=\"onAlertMountChange\"\r\n          @on-exit=\"onAlertMountChange\"\r\n        >\r\n          <BalAlert :title=\"$t('tokenWarningTitle')\" type=\"warning\">\r\n            <BalStack vertical spacing=\"xs\">\r\n              <span>{{ $t('tokenWarning') }}</span>\r\n              <div>\r\n                <BalBtn size=\"xs\" @click=\"acceptCustomTokenDisclaimer\">\r\n                  {{ $t('accept') }}\r\n                </BalBtn>\r\n              </div>\r\n            </BalStack>\r\n          </BalAlert>\r\n        </AnimatePresence>\r\n        <BalBtn\r\n          block\r\n          color=\"gradient\"\r\n          :disabled=\"isProceedDisabled\"\r\n          @click=\"handleProceed\"\r\n        >\r\n          {{ walletLabel }}\r\n        </BalBtn>\r\n      </BalStack>\r\n    </BalCard>\r\n  </div>\r\n</template>\r\n","<script setup lang=\"ts\">\r\nimport { useI18n } from 'vue-i18n';\r\n\r\nimport AnimatePresence from '@/components/animate/AnimatePresence.vue';\r\nimport TokenInput from '@/components/inputs/TokenInput/TokenInput.vue';\r\nimport usePoolCreation from '@/composables/pools/usePoolCreation';\r\nimport useNumbers, { FNumFormats } from '@/composables/useNumbers';\r\nimport { useTokens } from '@/providers/tokens.provider';\r\nimport { bnum, isSameAddress } from '@/lib/utils';\r\nimport { isGreaterThan } from '@/lib/utils/validations';\r\nimport useNetwork from '@/composables/useNetwork';\r\n\r\nconst emit = defineEmits(['update:height']);\r\n\r\n/**\r\n * STATE\r\n */\r\nconst isOptimised = ref(false);\r\nconst cardWrapper = ref<HTMLElement>();\r\n\r\n/**\r\n * COMPOSBALES\r\n */\r\nconst { networkConfig } = useNetwork();\r\nconst {\r\n  balanceFor,\r\n  priceFor,\r\n  nativeAsset,\r\n  wrappedNativeAsset,\r\n  dynamicDataLoading,\r\n} = useTokens();\r\nconst { fNum } = useNumbers();\r\nconst {\r\n  seedTokens,\r\n  totalLiquidity,\r\n  scaledLiquidity,\r\n  manuallySetToken,\r\n  autoOptimiseBalances,\r\n  currentLiquidity,\r\n  isWethPool,\r\n  useNativeAsset,\r\n  poolLiquidity,\r\n  createPoolTxHash,\r\n  getOptimisedLiquidity,\r\n  goBack,\r\n  updateManuallySetToken,\r\n  proceed,\r\n  clearAmounts,\r\n  setAmountsToMaxBalances,\r\n  saveState,\r\n} = usePoolCreation();\r\nconst { t } = useI18n();\r\n\r\nconst tokenAddresses = ref([] as string[]);\r\n\r\n/**\r\n * COMPUTED\r\n */\r\nconst areAmountsMaxed = computed(() => {\r\n  const isMaxed = seedTokens.value.every(t =>\r\n    bnum(t.amount).eq(balanceFor(t.tokenAddress))\r\n  );\r\n  return isMaxed;\r\n});\r\n\r\nconst isExceedingWalletBalance = computed(() => {\r\n  // need to perform rounding here as JS cuts off those\r\n  // really long numbers which makes it impossible to compare\r\n  const isExceeding = tokenAddresses.value.some((t, i) =>\r\n    bnum(seedTokens.value[i].amount).gt(balanceFor(t))\r\n  );\r\n  return isExceeding;\r\n});\r\n\r\nconst arbitrageDelta = computed(() => {\r\n  let totalPctDelta = bnum(0);\r\n  for (const token of seedTokens.value) {\r\n    const initialPct = bnum(token.amount)\r\n      .times(priceFor(token.tokenAddress))\r\n      .div(poolLiquidity.value);\r\n    const expectedPct = token.weight / 100;\r\n    const delta = initialPct.minus(expectedPct).abs();\r\n    totalPctDelta = totalPctDelta.plus(delta);\r\n  }\r\n  return {\r\n    delta: totalPctDelta,\r\n    value: totalPctDelta.times(poolLiquidity.value),\r\n  };\r\n});\r\n\r\nconst hasZeroAmount = computed(() => {\r\n  return seedTokens.value.some(seedToken => bnum(seedToken.amount).eq(0));\r\n});\r\n\r\n/**\r\n * LIFECYCLE\r\n */\r\nonBeforeMount(() => {\r\n  tokenAddresses.value = [...seedTokens.value.map(token => token.tokenAddress)];\r\n  if (isWethPool.value) setNativeAssetIfRequired();\r\n});\r\n\r\nonMounted(() => {\r\n  // these functions need access to pricing data\r\n  // do not attempt to optimise if there is no data\r\n  if (!dynamicDataLoading.value) {\r\n    optimiseLiquidity();\r\n    scaleLiquidity();\r\n  }\r\n});\r\n\r\n// these functions need access to pricing data\r\n// do not attempt to optimise if there is no data\r\n// but once we have that data, optimise away\r\nwatch(dynamicDataLoading, () => {\r\n  if (!dynamicDataLoading.value) {\r\n    setNativeAssetIfRequired();\r\n    optimiseLiquidity();\r\n    scaleLiquidity();\r\n  }\r\n});\r\n\r\n/**\r\n * METHODS\r\n */\r\nfunction optimiseLiquidity(force = false) {\r\n  if (manuallySetToken.value && !force) return;\r\n  isOptimised.value = true;\r\n\r\n  const optimisedLiquidity = getOptimisedLiquidity();\r\n  for (const token of seedTokens.value) {\r\n    token.amount = optimisedLiquidity[token.tokenAddress].balanceRequired;\r\n  }\r\n}\r\n\r\nfunction scaleLiquidity() {\r\n  if (!autoOptimiseBalances.value || !manuallySetToken.value) return;\r\n\r\n  for (const token of seedTokens.value) {\r\n    if (token.tokenAddress !== manuallySetToken.value) {\r\n      token.amount = scaledLiquidity.value[token.tokenAddress].balanceRequired;\r\n    }\r\n  }\r\n}\r\n\r\nfunction toggleAutoOptimise() {\r\n  autoOptimiseBalances.value = !autoOptimiseBalances.value;\r\n  checkLiquidityScaling();\r\n}\r\n\r\nfunction checkLiquidityScaling() {\r\n  if (!autoOptimiseBalances.value) return;\r\n\r\n  scaleLiquidity();\r\n}\r\n\r\nfunction handleMax() {\r\n  setAmountsToMaxBalances();\r\n  isOptimised.value = false;\r\n}\r\n\r\nfunction handleAmountChange(tokenAddress) {\r\n  updateManuallySetToken(tokenAddress);\r\n  checkLiquidityScaling();\r\n  isOptimised.value = false;\r\n}\r\n\r\nfunction handleAddressChange(newAddress: string): void {\r\n  useNativeAsset.value = isSameAddress(newAddress, nativeAsset.address);\r\n}\r\n\r\nfunction tokenOptions(index: number): string[] {\r\n  if (\r\n    isSameAddress(tokenAddresses.value[index], wrappedNativeAsset.value.address)\r\n  )\r\n    return [wrappedNativeAsset.value.address, nativeAsset.address];\r\n  if (isSameAddress(tokenAddresses.value[index], nativeAsset.address))\r\n    return [nativeAsset.address, wrappedNativeAsset.value.address];\r\n  return [];\r\n}\r\n\r\n// If useNativeAsset is set, or ETH has a higher balance than WETH, then use it for the input.\r\nfunction setNativeAssetIfRequired(): void {\r\n  const nativeAssetBalance = balanceFor(nativeAsset.address);\r\n  const wrappedNativeAssetBalance = balanceFor(\r\n    wrappedNativeAsset.value.address\r\n  );\r\n\r\n  if (\r\n    useNativeAsset.value ||\r\n    bnum(nativeAssetBalance).gt(wrappedNativeAssetBalance)\r\n  ) {\r\n    // the native asset flag may not be set\r\n    useNativeAsset.value = true;\r\n    tokenAddresses.value = tokenAddresses.value.map(address => {\r\n      if (isSameAddress(address, wrappedNativeAsset.value.address)) {\r\n        return nativeAsset.address;\r\n      }\r\n      return address;\r\n    });\r\n  }\r\n}\r\n\r\nfunction handleClearAll() {\r\n  clearAmounts();\r\n  isOptimised.value = false;\r\n}\r\n\r\nfunction onAlertMountChange() {\r\n  emit('update:height', {\r\n    height: cardWrapper.value?.offsetHeight || 0,\r\n  });\r\n}\r\n\r\nfunction saveAndProceed() {\r\n  saveState();\r\n  proceed();\r\n}\r\n</script>\r\n\r\n<template>\r\n  <div ref=\"cardWrapper\">\r\n    <BalCard shadow=\"xl\" noBorder>\r\n      <BalStack vertical>\r\n        <BalStack vertical spacing=\"xs\">\r\n          <span class=\"text-xs text-secondary\">{{ networkConfig?.name }}</span>\r\n          <BalStack horizontal spacing=\"xs\" align=\"center\">\r\n            <button\r\n              v-if=\"!createPoolTxHash\"\r\n              class=\"flex text-blue-500 hover:text-blue-700\"\r\n              @click=\"goBack\"\r\n            >\r\n              <BalIcon class=\"flex\" name=\"chevron-left\" />\r\n            </button>\r\n\r\n            <h5 class=\"font-semibold dark:text-gray-300\">\r\n              Set initial liquidity\r\n            </h5>\r\n          </BalStack>\r\n          <AnimatePresence :isVisible=\"isOptimised\" unmountInstantly>\r\n            <BalStack\r\n              horizontal\r\n              align=\"center\"\r\n              spacing=\"sm\"\r\n              class=\"p-2 mt-2 rounded-lg border\"\r\n            >\r\n              <BalIcon name=\"zap\" size=\"sm\" class=\"mt-1 text-secondary\" />\r\n              <span class=\"font-medium dark:text-gray-400\">\r\n                {{ t('optimizedPrefilled') }}\r\n              </span>\r\n              <button\r\n                class=\"text-sm font-medium text-gray-400 hover:text-blue-500\"\r\n                @click=\"handleClearAll\"\r\n              >\r\n                Clear all\r\n              </button>\r\n            </BalStack>\r\n          </AnimatePresence>\r\n        </BalStack>\r\n        <BalStack vertical>\r\n          <TokenInput\r\n            v-for=\"(token, i) in seedTokens\"\r\n            :key=\"i\"\r\n            v-model:amount=\"token.amount\"\r\n            v-model:address=\"tokenAddresses[i]\"\r\n            fixedToken\r\n            :weight=\"token.weight / 100\"\r\n            :name=\"`initial-token-${token.tokenAddress}`\"\r\n            :options=\"tokenOptions(i)\"\r\n            :rules=\"[isGreaterThan(0)]\"\r\n            @update:amount=\"handleAmountChange(token.tokenAddress)\"\r\n            @update:address=\"handleAddressChange($event)\"\r\n          />\r\n        </BalStack>\r\n        <BalStack horizontal spacing=\"sm\" align=\"center\">\r\n          <div>\r\n            <span class=\"pl-2 text-sm\">{{\r\n              t('autoOptimiseLiquidityToggle.label')\r\n            }}</span>\r\n            <BalTooltip width=\"64\">\r\n              <template #activator>\r\n                <BalIcon\r\n                  name=\"info\"\r\n                  size=\"xs\"\r\n                  class=\"flex ml-1 text-gray-400\"\r\n                />\r\n              </template>\r\n              <!-- eslint-disable-next-line vue/no-v-html -->\r\n              <div v-html=\"t('autoOptimiseLiquidityToggle.tooltip')\" />\r\n            </BalTooltip>\r\n          </div>\r\n          <div>\r\n            <BalToggle\r\n              name=\"autoOptimise\"\r\n              :checked=\"autoOptimiseBalances\"\r\n              @toggle=\"toggleAutoOptimise\"\r\n            />\r\n          </div>\r\n        </BalStack>\r\n        <div class=\"p-3 rounded-lg border\">\r\n          <BalStack horizontal justify=\"between\">\r\n            <BalStack vertical spacing=\"none\">\r\n              <h6>{{ t('total') }}</h6>\r\n              <BalStack horizontal spacing=\"xs\" class=\"font-medium\">\r\n                <span class=\"text-sm\">\r\n                  {{ t('available') }}:\r\n                  {{ fNum(totalLiquidity.toString(), FNumFormats.fiat) }}\r\n                </span>\r\n                <button\r\n                  :disabled=\"areAmountsMaxed\"\r\n                  :class=\"[\r\n                    'text-sm font-semibold3',\r\n                    {\r\n                      'text-gray-400 dark:text-gray-600': areAmountsMaxed,\r\n                      'text-blue-500 hover:text-blue-50': !areAmountsMaxed,\r\n                    },\r\n                  ]\"\r\n                  @click=\"handleMax\"\r\n                >\r\n                  {{ areAmountsMaxed ? t('maxed') : t('max') }}\r\n                </button>\r\n              </BalStack>\r\n            </BalStack>\r\n            <BalStack vertical spacing=\"none\">\r\n              <h6>\r\n                {{ fNum(currentLiquidity.toString(), FNumFormats.fiat) }}\r\n              </h6>\r\n              <AnimatePresence\r\n                :isVisible=\"!isOptimised\"\r\n                unmountInstantly\r\n                @on-presence=\"onAlertMountChange\"\r\n                @on-exit=\"onAlertMountChange\"\r\n              >\r\n                <button\r\n                  class=\"text-sm font-medium text-transparent bg-clip-text bg-gradient-to-tr from-blue-500 hover:from-blue-800 to-pink-500 hover:to-pink-800\"\r\n                  @click=\"optimiseLiquidity(true)\"\r\n                >\r\n                  {{ t('optimize') }}\r\n                </button>\r\n              </AnimatePresence>\r\n            </BalStack>\r\n          </BalStack>\r\n        </div>\r\n        <AnimatePresence\r\n          :isVisible=\"arbitrageDelta.delta.gt(0.05)\"\r\n          unmountInstantly\r\n          @on-presence=\"onAlertMountChange\"\r\n          @on-exit=\"onAlertMountChange\"\r\n        >\r\n          <BalAlert\r\n            type=\"warning\"\r\n            :title=\"\r\n              t('createAPool.arbTitle', [\r\n                fNum(arbitrageDelta.value.toString(), FNumFormats.fiat),\r\n                fNum(arbitrageDelta.delta.toString(), FNumFormats.percent),\r\n              ])\r\n            \"\r\n          >\r\n            {{ t('createAPool.arbReason') }}\r\n          </BalAlert>\r\n        </AnimatePresence>\r\n        <BalBtn\r\n          :disabled=\"isExceedingWalletBalance || hasZeroAmount\"\r\n          block\r\n          color=\"gradient\"\r\n          @click=\"saveAndProceed\"\r\n        >\r\n          {{ t('preview') }}\r\n        </BalBtn>\r\n      </BalStack>\r\n    </BalCard>\r\n  </div>\r\n</template>\r\n","<template>\r\n  <div class=\"inline-flex items-start\">\r\n    <input\r\n      type=\"radio\"\r\n      :value=\"value\"\r\n      :checked=\"modelValue === value\"\r\n      :name=\"name\"\r\n      :class=\"['bal-radio-input', inputClasses]\"\r\n      :disabled=\"disabled\"\r\n      @change=\"onChange(value)\"\r\n    />\r\n    <label\r\n      v-if=\"$slots.label || label\"\r\n      :for=\"name\"\r\n      :class=\"['bal-radio-label', labelClasses]\"\r\n      @click.prevent=\"onChange(value)\"\r\n    >\r\n      <slot name=\"label\">\r\n        {{ label }}\r\n      </slot>\r\n    </label>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nexport default defineComponent({\r\n  name: 'BalRadio',\r\n\r\n  props: {\r\n    name: { type: String, required: true },\r\n    value: { type: [String, Number], required: true },\r\n    modelValue: { type: [String, Number], default: '' },\r\n    label: { type: String, default: '' },\r\n    disabled: { type: Boolean, default: false },\r\n    size: {\r\n      type: String,\r\n      default: 'md',\r\n      validator: (val: string): boolean => ['sm', 'md', 'lg'].includes(val),\r\n    },\r\n    color: {\r\n      type: String,\r\n      default: 'blue',\r\n      validator: (val: string): boolean => ['blue'].includes(val),\r\n    },\r\n  },\r\n\r\n  emits: ['update:modelValue'],\r\n\r\n  setup(props, { emit }) {\r\n    function onChange(value) {\r\n      if (!props.disabled) emit('update:modelValue', value);\r\n    }\r\n\r\n    const sizeClasses = computed(() => {\r\n      switch (props.size) {\r\n        case 'sm':\r\n          return 'w-3 h-3';\r\n        case 'lg':\r\n          return 'w-6 h-6';\r\n        default:\r\n          return 'w-4 h-4';\r\n      }\r\n    });\r\n\r\n    const textSizeClass = computed(() => {\r\n      switch (props.size) {\r\n        case 'sm':\r\n          return 'leading-none text-sm';\r\n        case 'lg':\r\n          return 'leading-none text-lg';\r\n        default:\r\n          return 'leading-none text-base';\r\n      }\r\n    });\r\n\r\n    const colorClass = computed(() => {\r\n      if (props.disabled) return 'text-gray-500';\r\n      return `text-${props.color}-500`;\r\n    });\r\n\r\n    const cursrorClass = computed(() => {\r\n      if (props.disabled) return 'cursor-not-allowed';\r\n      return 'cursor-pointer';\r\n    });\r\n\r\n    const inputClasses = computed(() => {\r\n      return {\r\n        [sizeClasses.value]: true,\r\n        [colorClass.value]: true,\r\n        [cursrorClass.value]: true,\r\n      };\r\n    });\r\n\r\n    const labelClasses = computed(() => {\r\n      return {\r\n        [textSizeClass.value]: true,\r\n        [cursrorClass.value]: true,\r\n      };\r\n    });\r\n\r\n    return {\r\n      onChange,\r\n      inputClasses,\r\n      labelClasses,\r\n    };\r\n  },\r\n});\r\n</script>\r\n\r\n<style>\r\n.bal-radio-input {\r\n  @apply bg-white dark:bg-gray-900 rounded-full m-0;\r\n  @apply border border-gray-300 dark:border-gray-900;\r\n\r\n  transition: all ease 0.25s;\r\n  appearance: none;\r\n  -webkit-print-color-adjust: exact;\r\n  print-color-adjust: exact;\r\n  display: inline-block;\r\n  vertical-align: middle;\r\n  background-origin: border-box;\r\n  user-select: none;\r\n}\r\n\r\n.bal-radio-input:checked {\r\n  background-image: url(\"data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3ccircle cx='8' cy='8' r='3'/%3e%3c/svg%3e\");\r\n  border-color: transparent;\r\n  background-color: currentcolor;\r\n  background-size: 100% 100%;\r\n  background-position: center;\r\n  background-repeat: no-repeat;\r\n}\r\n\r\n.bal-radio-label {\r\n  @apply ml-2 flex-1;\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"inline-flex items-start\">\r\n    <input\r\n      type=\"radio\"\r\n      :value=\"value\"\r\n      :checked=\"modelValue === value\"\r\n      :name=\"name\"\r\n      :class=\"['bal-radio-input', inputClasses]\"\r\n      :disabled=\"disabled\"\r\n      @change=\"onChange(value)\"\r\n    />\r\n    <label\r\n      v-if=\"$slots.label || label\"\r\n      :for=\"name\"\r\n      :class=\"['bal-radio-label', labelClasses]\"\r\n      @click.prevent=\"onChange(value)\"\r\n    >\r\n      <slot name=\"label\">\r\n        {{ label }}\r\n      </slot>\r\n    </label>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nexport default defineComponent({\r\n  name: 'BalRadio',\r\n\r\n  props: {\r\n    name: { type: String, required: true },\r\n    value: { type: [String, Number], required: true },\r\n    modelValue: { type: [String, Number], default: '' },\r\n    label: { type: String, default: '' },\r\n    disabled: { type: Boolean, default: false },\r\n    size: {\r\n      type: String,\r\n      default: 'md',\r\n      validator: (val: string): boolean => ['sm', 'md', 'lg'].includes(val),\r\n    },\r\n    color: {\r\n      type: String,\r\n      default: 'blue',\r\n      validator: (val: string): boolean => ['blue'].includes(val),\r\n    },\r\n  },\r\n\r\n  emits: ['update:modelValue'],\r\n\r\n  setup(props, { emit }) {\r\n    function onChange(value) {\r\n      if (!props.disabled) emit('update:modelValue', value);\r\n    }\r\n\r\n    const sizeClasses = computed(() => {\r\n      switch (props.size) {\r\n        case 'sm':\r\n          return 'w-3 h-3';\r\n        case 'lg':\r\n          return 'w-6 h-6';\r\n        default:\r\n          return 'w-4 h-4';\r\n      }\r\n    });\r\n\r\n    const textSizeClass = computed(() => {\r\n      switch (props.size) {\r\n        case 'sm':\r\n          return 'leading-none text-sm';\r\n        case 'lg':\r\n          return 'leading-none text-lg';\r\n        default:\r\n          return 'leading-none text-base';\r\n      }\r\n    });\r\n\r\n    const colorClass = computed(() => {\r\n      if (props.disabled) return 'text-gray-500';\r\n      return `text-${props.color}-500`;\r\n    });\r\n\r\n    const cursrorClass = computed(() => {\r\n      if (props.disabled) return 'cursor-not-allowed';\r\n      return 'cursor-pointer';\r\n    });\r\n\r\n    const inputClasses = computed(() => {\r\n      return {\r\n        [sizeClasses.value]: true,\r\n        [colorClass.value]: true,\r\n        [cursrorClass.value]: true,\r\n      };\r\n    });\r\n\r\n    const labelClasses = computed(() => {\r\n      return {\r\n        [textSizeClass.value]: true,\r\n        [cursrorClass.value]: true,\r\n      };\r\n    });\r\n\r\n    return {\r\n      onChange,\r\n      inputClasses,\r\n      labelClasses,\r\n    };\r\n  },\r\n});\r\n</script>\r\n\r\n<style>\r\n.bal-radio-input {\r\n  @apply bg-white dark:bg-gray-900 rounded-full m-0;\r\n  @apply border border-gray-300 dark:border-gray-900;\r\n\r\n  transition: all ease 0.25s;\r\n  appearance: none;\r\n  -webkit-print-color-adjust: exact;\r\n  print-color-adjust: exact;\r\n  display: inline-block;\r\n  vertical-align: middle;\r\n  background-origin: border-box;\r\n  user-select: none;\r\n}\r\n\r\n.bal-radio-input:checked {\r\n  background-image: url(\"data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3ccircle cx='8' cy='8' r='3'/%3e%3c/svg%3e\");\r\n  border-color: transparent;\r\n  background-color: currentcolor;\r\n  background-size: 100% 100%;\r\n  background-position: center;\r\n  background-repeat: no-repeat;\r\n}\r\n\r\n.bal-radio-label {\r\n  @apply ml-2 flex-1;\r\n}\r\n</style>\r\n","<script lang=\"ts\" setup>\r\nimport { isAddress } from '@ethersproject/address';\r\n\r\nimport usePoolCreation from '@/composables/pools/usePoolCreation';\r\nimport useNumbers from '@/composables/useNumbers';\r\nimport { isRequired, isValidAddress } from '@/lib/utils/validations';\r\nimport useWeb3 from '@/services/web3/useWeb3';\r\nimport { shorten } from '@/lib/utils';\r\nimport useNetwork from '@/composables/useNetwork';\r\n\r\nconst emit = defineEmits(['update:height']);\r\n\r\n/**\r\n * STATIC\r\n */\r\nconst FIXED_FEE_OPTIONS = ['0.001', '0.003', '0.01'];\r\n\r\n/**\r\n * STATE\r\n */\r\nconst isCustomFee = ref(false);\r\nconst checkboxState = ref(true);\r\nconst isInvalidFee = ref(false);\r\nconst cardWrapper = ref<HTMLElement>();\r\n\r\n/**\r\n * COMPOSABLES\r\n */\r\nconst { fNum } = useNumbers();\r\nconst {\r\n  initialFee,\r\n  feeController,\r\n  feeManagementType,\r\n  feeType,\r\n  setFeeManagement,\r\n  setFeeType,\r\n  setFeeController,\r\n  setTrpController,\r\n  thirdPartyFeeController,\r\n  fee,\r\n  proceed,\r\n  goBack,\r\n  isLoadingSimilarPools,\r\n} = usePoolCreation();\r\nconst { account } = useWeb3();\r\nconst { networkConfig } = useNetwork();\r\n\r\n/**\r\n * COMPUTED\r\n */\r\nconst customInputClasses = computed(() => ({\r\n  'border border-blue-500 text-blue-600 dark:text-blue-400': isCustomFee.value,\r\n  'border dark:border-gray-900': !isCustomFee.value,\r\n}));\r\n\r\nconst isProceedDisabled = computed(() => {\r\n  if (\r\n    feeController.value === 'other' &&\r\n    !isAddress(thirdPartyFeeController.value)\r\n  ) {\r\n    return true;\r\n  }\r\n\r\n  if (isInvalidFee.value) return true;\r\n\r\n  return false;\r\n});\r\n\r\n// this does not need to be computed as it relies on a static\r\nconst feeOptions = FIXED_FEE_OPTIONS.map(option => {\r\n  return {\r\n    label: fNum(option, {\r\n      style: 'percent',\r\n      minimumFractionDigits: 1,\r\n      maximumFractionDigits: 1,\r\n      fixedFormat: true,\r\n    }),\r\n    value: option,\r\n  };\r\n});\r\n\r\n/**\r\n * FUNCTIONS\r\n */\r\nfunction onFixedInput(val: string): void {\r\n  fee.value = '';\r\n  initialFee.value = val;\r\n  isCustomFee.value = false;\r\n}\r\n\r\nfunction onCustomInput(val: string): void {\r\n  if (val === '') return;\r\n\r\n  initialFee.value = (Number(val) / 100).toString();\r\n  isCustomFee.value = true;\r\n\r\n  if (Number(val) < 0.0001 || Number(val) > 10) {\r\n    isInvalidFee.value = true;\r\n  } else {\r\n    isInvalidFee.value = false;\r\n  }\r\n}\r\n\r\nasync function onChangeFeeManagementType(val: boolean) {\r\n  if (!val) {\r\n    setFeeManagement('self');\r\n  } else {\r\n    setFeeManagement('governance');\r\n    setFeeType('fixed');\r\n    setFeeController('self');\r\n    setTrpController('');\r\n  }\r\n  await nextTick();\r\n  emit('update:height', {\r\n    height: cardWrapper.value?.offsetHeight || 0,\r\n  });\r\n}\r\n\r\nasync function onChangeFeeType(val: string) {\r\n  if (val === 'fixed') {\r\n    setFeeController('self');\r\n    setTrpController('');\r\n  }\r\n  await nextTick();\r\n  emit('update:height', {\r\n    height: cardWrapper.value?.offsetHeight || 0,\r\n  });\r\n}\r\n\r\nasync function onChangeFeeController(val: string) {\r\n  if (val === 'self') {\r\n    setTrpController('');\r\n  }\r\n  await nextTick();\r\n  emit('update:height', {\r\n    height: cardWrapper.value?.offsetHeight || 0,\r\n  });\r\n}\r\n\r\nwatch(fee, onCustomInput, { immediate: true });\r\n</script>\r\n\r\n<template>\r\n  <div ref=\"cardWrapper\">\r\n    <BalCard shadow=\"xl\" noBorder>\r\n      <BalStack vertical>\r\n        <BalStack vertical spacing=\"xs\">\r\n          <span class=\"text-xs text-secondary\">{{ networkConfig?.name }}</span>\r\n          <BalStack horizontal align=\"center\" spacing=\"xs\">\r\n            <button\r\n              class=\"flex text-blue-500 hover:text-blue-700\"\r\n              @click=\"goBack\"\r\n            >\r\n              <BalIcon class=\"flex\" name=\"chevron-left\" />\r\n            </button>\r\n            <h5 class=\"font-semibold dark:text-gray-300\">\r\n              {{ $t('createAPool.setPoolFees') }}\r\n            </h5>\r\n          </BalStack>\r\n        </BalStack>\r\n        <BalStack vertical spacing=\"sm\">\r\n          <div>\r\n            <h6 class=\"mb-1\">Initial swap fee</h6>\r\n            <p class=\"text-gray-600\">\r\n              {{ $t('createAPool.bestFeeOption') }}\r\n            </p>\r\n          </div>\r\n          <BalStack spacing=\"xs\" horizontal>\r\n            <BalBtnGroup\r\n              v-model=\"initialFee\"\r\n              :options=\"feeOptions\"\r\n              @update:model-value=\"onFixedInput\"\r\n            />\r\n            <div>\r\n              <div :class=\"['custom-input', customInputClasses]\">\r\n                <input\r\n                  v-model=\"fee\"\r\n                  class=\"w-12 h-full text-right bg-transparent\"\r\n                  placeholder=\"0.1\"\r\n                  type=\"number\"\r\n                  step=\"any\"\r\n                />\r\n                <div class=\"px-1\">%</div>\r\n              </div>\r\n            </div>\r\n          </BalStack>\r\n          <BalAlert\r\n            v-if=\"isInvalidFee\"\r\n            class=\"w-full\"\r\n            :title=\"$t('invalidFee')\"\r\n            type=\"error\"\r\n          >\r\n            {{ $t('invalidFeeExplain') }}\r\n          </BalAlert>\r\n        </BalStack>\r\n        <BalStack horizontal spacing=\"none\" align=\"center\">\r\n          <BalCheckbox\r\n            v-model=\"checkboxState\"\r\n            name=\"areFeesGovernanceManaged\"\r\n            size=\"sm\"\r\n            :label=\"$t('createAPool.governanceFees')\"\r\n            noMargin\r\n            @update:model-value=\"onChangeFeeManagementType\"\r\n          />\r\n          <BalTooltip\r\n            :text=\"$t('createAPool.governanceFeesTooltip')\"\r\n            iconSize=\"sm\"\r\n            class=\"mt-1 ml-2\"\r\n          />\r\n        </BalStack>\r\n        <BalStack v-if=\"feeManagementType === 'self'\" vertical spacing=\"sm\">\r\n          <h6 class=\"mb-1\">\r\n            {{ $t('createAPool.alternativeFeeManagement') }}\r\n          </h6>\r\n          <BalRadio\r\n            v-model=\"feeType\"\r\n            value=\"fixed\"\r\n            name=\"feeManagementOptions\"\r\n            @update:model-value=\"onChangeFeeType\"\r\n          >\r\n            <template #label>\r\n              <span>\r\n                {{ $t('createAPool.fixedFeeRadioLabel') }}\r\n              </span>\r\n            </template>\r\n          </BalRadio>\r\n          <BalRadio\r\n            v-model=\"feeType\"\r\n            value=\"dynamic\"\r\n            name=\"feeManagementOptions\"\r\n            @update:model-value=\"onChangeFeeType\"\r\n          >\r\n            <template #label>\r\n              <span>\r\n                {{ $t('createAPool.dynamicFeeRadioLabel') }}\r\n              </span>\r\n            </template>\r\n          </BalRadio>\r\n        </BalStack>\r\n        <BalStack v-if=\"feeType === 'dynamic'\" vertical spacing=\"sm\">\r\n          <h6 class=\"mb-1\">\r\n            {{ $t('createAPool.setAnAddress') }}\r\n          </h6>\r\n          <BalRadio\r\n            v-model=\"feeController\"\r\n            value=\"self\"\r\n            name=\"addressOption\"\r\n            @update:model-value=\"onChangeFeeController\"\r\n          >\r\n            <template #label>\r\n              <span>\r\n                {{ $t('createAPool.myAddressOption', [shorten(account)]) }}\r\n              </span>\r\n            </template>\r\n          </BalRadio>\r\n          <BalRadio\r\n            v-model=\"feeController\"\r\n            value=\"other\"\r\n            name=\"addressOption\"\r\n            @update:model-value=\"onChangeFeeController\"\r\n          >\r\n            <template #label>\r\n              <span>\r\n                {{ $t('createAPool.customAddressOption') }}\r\n              </span>\r\n            </template>\r\n          </BalRadio>\r\n        </BalStack>\r\n        <BalStack\r\n          v-if=\"feeController === 'other' && feeType === 'dynamic'\"\r\n          vertical\r\n          spacing=\"xs\"\r\n        >\r\n          <h6>{{ $t('createAPool.customAddressTitle') }}</h6>\r\n          <p class=\"mb-1 text-gray-600\">\r\n            {{ $t('createAPool.customAddressInfo') }}\r\n          </p>\r\n          <BalStack vertical spacing=\"xs\">\r\n            <BalTextInput\r\n              v-model=\"thirdPartyFeeController\"\r\n              placeholder=\"0xBA4...2069\"\r\n              type=\"text\"\r\n              size=\"sm\"\r\n              validateOn=\"blur\"\r\n              :rules=\"[\r\n                isRequired($t('A controller address')),\r\n                isValidAddress(),\r\n              ]\"\r\n              name=\"customAddress\"\r\n            />\r\n          </BalStack>\r\n        </BalStack>\r\n        <BalBtn\r\n          :disabled=\"isProceedDisabled || isLoadingSimilarPools\"\r\n          type=\"submit\"\r\n          block\r\n          color=\"gradient\"\r\n          :loading=\"isLoadingSimilarPools\"\r\n          @click=\"proceed\"\r\n        >\r\n          {{ $t('next') }}\r\n        </BalBtn>\r\n      </BalStack>\r\n    </BalCard>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.custom-input {\r\n  @apply flex items-center px-1 rounded-lg shadow-inner h-full;\r\n}\r\n</style>\r\n","var getSrc = item => typeof item === 'string' ? item : item.src;\n\nvar getArgs = ({\n  amount = 3,\n  format = 'array',\n  group = 20,\n  sample = 10\n} = {}) => ({\n  amount,\n  format,\n  group,\n  sample\n});\n\nvar format = (input, args) => {\n  var list = input.map(val => {\n    var rgb = Array.isArray(val) ? val : val.split(',').map(Number);\n    return args.format === 'hex' ? rgbToHex(rgb) : rgb;\n  });\n  return args.amount === 1 || list.length === 1 ? list[0] : list;\n};\n\nvar group = (number, grouping) => {\n  var grouped = Math.round(number / grouping) * grouping;\n  return Math.min(grouped, 255);\n};\n\nvar rgbToHex = rgb => '#' + rgb.map(val => {\n  var hex = val.toString(16);\n  return hex.length === 1 ? '0' + hex : hex;\n}).join('');\n\nvar getImageData = src => new Promise((resolve, reject) => {\n  var canvas = document.createElement('canvas');\n  var context = canvas.getContext('2d');\n  var img = new Image();\n\n  img.onload = () => {\n    canvas.height = img.height;\n    canvas.width = img.width;\n    context.drawImage(img, 0, 0);\n    var data = context.getImageData(0, 0, img.width, img.height).data;\n    resolve(data);\n  };\n\n  img.onerror = () => reject(Error('Image loading failed.'));\n\n  img.crossOrigin = '';\n  img.src = src;\n});\n\nvar getAverage = (data, args) => {\n  var gap = 4 * args.sample;\n  var amount = data.length / gap;\n  var rgb = {\n    r: 0,\n    g: 0,\n    b: 0\n  };\n\n  for (var i = 0; i < data.length; i += gap) {\n    rgb.r += data[i];\n    rgb.g += data[i + 1];\n    rgb.b += data[i + 2];\n  }\n\n  return format([[Math.round(rgb.r / amount), Math.round(rgb.g / amount), Math.round(rgb.b / amount)]], args);\n};\n\nvar getProminent = (data, args) => {\n  var gap = 4 * args.sample;\n  var colors = {};\n\n  for (var i = 0; i < data.length; i += gap) {\n    var rgb = [group(data[i], args.group), group(data[i + 1], args.group), group(data[i + 2], args.group)].join();\n    colors[rgb] = colors[rgb] ? colors[rgb] + 1 : 1;\n  }\n\n  return format(Object.entries(colors).sort(([_keyA, valA], [_keyB, valB]) => valA > valB ? -1 : 1).slice(0, args.amount).map(([rgb]) => rgb), args);\n};\n\nvar process = (handler, item, args) => new Promise((resolve, reject) => getImageData(getSrc(item)).then(data => resolve(handler(data, getArgs(args)))).catch(error => reject(error)));\n\nvar average = (item, args) => process(getAverage, item, args);\n\nvar prominent = (item, args) => process(getProminent, item, args);\n\nexport { average, prominent };\n","<script setup lang=\"ts\">\r\nimport { prominent } from 'color.js';\r\nimport * as echarts from 'echarts/core';\r\nimport ECharts from 'vue-echarts';\r\n\r\nimport usePoolCreation from '@/composables/pools/usePoolCreation';\r\nimport useBreakpoints from '@/composables/useBreakpoints';\r\nimport useDarkMode from '@/composables/useDarkMode';\r\nimport useNumbers, { FNumFormats } from '@/composables/useNumbers';\r\nimport useTailwind from '@/composables/useTailwind';\r\nimport { useTokens } from '@/providers/tokens.provider';\r\nimport useUrls from '@/composables/useUrls';\r\nimport { initEcharts } from '@/dependencies/echarts';\r\n\r\ninitEcharts();\r\n\r\n/**\r\n * CONSTANTS\r\n */\r\nconst manualColorMap = {\r\n  ETH: '#627EEA',\r\n  WETH: '#627EEA',\r\n  WBTC: '#F7931A',\r\n  BAL: '#00265A',\r\n};\r\n\r\n/** STATE */\r\nconst colors = ref<(string | null)[]>([]);\r\nconst chartInstance = ref<echarts.ECharts>();\r\n\r\n/**\r\n * COMPOSABLES\r\n */\r\nconst { getToken } = useTokens();\r\nconst {\r\n  seedTokens,\r\n  updateTokenColors,\r\n  totalLiquidity,\r\n  tokensList,\r\n  hasRestoredFromSavedState,\r\n} = usePoolCreation();\r\nconst { upToLargeBreakpoint } = useBreakpoints();\r\nconst { darkMode } = useDarkMode();\r\nconst { fNum } = useNumbers();\r\nconst tailwind = useTailwind();\r\nconst { resolve } = useUrls();\r\n\r\n/**\r\n * COMPUTED\r\n */\r\nconst chartConfig = computed(() => {\r\n  const validTokens = tokensList.value.filter(t => t !== '');\r\n  if (colors.value.length !== validTokens.length) return;\r\n  return {\r\n    tooltip: {\r\n      show: true,\r\n      borderRadius: 50,\r\n      confine: true,\r\n    },\r\n    legend: {\r\n      show: true,\r\n      type: 'scroll',\r\n      icon: 'circle',\r\n      formatter: address => {\r\n        return `${getToken(address)?.symbol || 'Unallocated'}`;\r\n      },\r\n      selectedMode: false,\r\n      top: 'bottom',\r\n      textStyle: {\r\n        color: darkMode.value\r\n          ? tailwind.theme.colors.gray['300']\r\n          : tailwind.theme.colors.gray['850'],\r\n      },\r\n    },\r\n    series: [\r\n      {\r\n        type: 'pie',\r\n        radius: ['40%', '70%'],\r\n        avoidLabelOverlap: false,\r\n        stillShowZeroSum: true,\r\n        showEmptyCircle: true,\r\n        itemStyle: {\r\n          borderColor: darkMode.value\r\n            ? tailwind.theme.colors.gray['850']\r\n            : '#fff',\r\n          borderWidth: 5,\r\n          borderCap: 'butt',\r\n          borderJoin: 'round',\r\n        },\r\n        label: {\r\n          show: false,\r\n          position: 'center',\r\n        },\r\n        labelLine: {\r\n          show: false,\r\n        },\r\n        top: -20,\r\n        colors: colors.value,\r\n        data: [\r\n          ...seedTokens.value\r\n            // .filter(t => t.tokenAddress !== '')\r\n            .map((t, i) => {\r\n              const tokenLogoURI = resolve(\r\n                getToken(t.tokenAddress)?.logoURI || ''\r\n              );\r\n              return {\r\n                name: t.tokenAddress,\r\n                value: t.weight,\r\n                tooltip: {\r\n                  show: false,\r\n                  borderWidth: '0',\r\n                },\r\n                emphasis: {\r\n                  label: {\r\n                    show: true,\r\n                    formatter: () => ' ',\r\n                    fontSize: '1rem',\r\n                    fontWeight: 'bold',\r\n                    backgroundColor: {\r\n                      image: tokenLogoURI,\r\n                    },\r\n                    width: 48,\r\n                    height: 48,\r\n                    borderRadius: 48,\r\n                    overflow: 'hidden',\r\n                  },\r\n                },\r\n                itemStyle: {\r\n                  color:\r\n                    t.tokenAddress === ''\r\n                      ? tailwind.theme.colors.gray[`${i + 1}00`]\r\n                      : colors.value[i],\r\n                },\r\n              };\r\n            }),\r\n        ],\r\n      },\r\n    ],\r\n  };\r\n});\r\n\r\n/**\r\n * WATCHERS\r\n */\r\nwatch(\r\n  [seedTokens, hasRestoredFromSavedState],\r\n  async () => {\r\n    const colors = await calculateColors();\r\n    await nextTick();\r\n    updateTokenColors(colors as string[]);\r\n  },\r\n  { deep: true, immediate: true }\r\n);\r\n\r\n/**\r\n * FUNCTIONS\r\n */\r\nasync function calculateColors() {\r\n  const colorPromises = seedTokens.value\r\n    .filter(t => t.tokenAddress !== '')\r\n    .map(async t => {\r\n      try {\r\n        const token = getToken(t.tokenAddress);\r\n        const tokenLogoURI = resolve(token.logoURI || '');\r\n        const color = await prominent(tokenLogoURI, {\r\n          amount: 2,\r\n          format: 'hex',\r\n        });\r\n        if (manualColorMap[token.symbol]) {\r\n          return manualColorMap[token.symbol];\r\n        }\r\n        if (color[0] === '#ffffff' || color[0] === '#000000')\r\n          return color[1] as string;\r\n        return color[0] as string;\r\n      } catch {\r\n        return null;\r\n      }\r\n    });\r\n  const _colors = await Promise.all(colorPromises);\r\n  colors.value = _colors;\r\n  return _colors;\r\n}\r\n</script>\r\n\r\n<template>\r\n  <BalCard noPad shadow=\"none\">\r\n    <div v-if=\"!upToLargeBreakpoint\" class=\"p-4 border-b dark:border-gray-600\">\r\n      <h6 class=\"dark:text-gray-300\">\r\n        {{ $t('createAPool.poolSummary') }}\r\n      </h6>\r\n    </div>\r\n    <div class=\"p-2\">\r\n      <ECharts\r\n        ref=\"chartInstance\"\r\n        class=\"w-full h-56\"\r\n        :option=\"chartConfig\"\r\n        autoresize\r\n      />\r\n    </div>\r\n    <BalStack class=\"mb-2\" vertical spacing=\"none\" align=\"center\">\r\n      <BalStack horizontal spacing=\"xs\">\r\n        <h6>{{ $t('inYourWallet') }}</h6>\r\n        <BalTooltip iconSize=\"sm\" class=\"mt-1\">\r\n          {{ $t('createAPool.maxLiquidityTooltip') }}\r\n        </BalTooltip>\r\n      </BalStack>\r\n      <span>{{ fNum(totalLiquidity.toString(), FNumFormats.fiat) }}</span>\r\n    </BalStack>\r\n  </BalCard>\r\n</template>\r\n","import { Ref } from 'vue';\r\n\r\nexport default function useInputStyles(props, isInvalid: Ref<boolean>, attrs) {\r\n  const extPaddingClass = (): string => {\r\n    switch (props.size) {\r\n      case 'xs':\r\n        return 'p-0';\r\n      case 'sm':\r\n        return 'p-1';\r\n      case 'lg':\r\n        return 'p-3';\r\n      default:\r\n        return 'p-2';\r\n    }\r\n  };\r\n\r\n  const intPaddingClass = (): string => {\r\n    switch (props.size) {\r\n      case 'xs':\r\n        return 'p-px';\r\n      case 'sm':\r\n        return 'p-px';\r\n      case 'lg':\r\n        return 'p-2';\r\n      default:\r\n        return 'p-1';\r\n    }\r\n  };\r\n\r\n  const inputTextSize = (): string => {\r\n    switch (props.size) {\r\n      case 'xs':\r\n        return 'text-sm';\r\n      case 'sm':\r\n        return 'text-base';\r\n      case 'lg':\r\n        return 'text-2xl';\r\n      default:\r\n        return 'text-xl';\r\n    }\r\n  };\r\n\r\n  const inputHeightClass = (): string => {\r\n    switch (props.size) {\r\n      case 'xs':\r\n        return 'h-6';\r\n      case 'sm':\r\n        return 'h-8';\r\n      case 'lg':\r\n        return 'h-12';\r\n      default:\r\n        return 'h-10';\r\n    }\r\n  };\r\n\r\n  const parentClasses = computed(() => attrs.class);\r\n\r\n  const inputContainerClasses = computed(() => ({\r\n    [extPaddingClass()]: true,\r\n  }));\r\n\r\n  const inputGroupClasses = computed(() => ({\r\n    [intPaddingClass()]: true,\r\n  }));\r\n\r\n  const headerClasses = computed(() => ({\r\n    [intPaddingClass()]: true,\r\n  }));\r\n\r\n  const footerClasses = computed(() => ({\r\n    [intPaddingClass()]: true,\r\n  }));\r\n\r\n  const inputClasses = computed(() => ({\r\n    [inputHeightClass()]: true,\r\n    [inputTextSize()]: true,\r\n    'text-right': props.inputAlignRight,\r\n    'font-numeric': props.type === 'number',\r\n  }));\r\n\r\n  const prependClasses = computed(() => ({\r\n    [inputHeightClass()]: true,\r\n  }));\r\n\r\n  const appendClasses = computed(() => ({\r\n    [inputHeightClass()]: true,\r\n  }));\r\n\r\n  const borderRadiusClasses = computed(() => ({\r\n    'rounded-lg': !props.noRadius,\r\n  }));\r\n\r\n  return {\r\n    parentClasses,\r\n    inputContainerClasses,\r\n    inputGroupClasses,\r\n    headerClasses,\r\n    footerClasses,\r\n    inputClasses,\r\n    prependClasses,\r\n    appendClasses,\r\n    borderRadiusClasses,\r\n  };\r\n}\r\n","<script lang=\"ts\">\r\n// https://v3.vuejs.org/api/sfc-script-setup.html#usage-alongside-normal-script\r\nexport default {\r\n  inheritAttrs: false,\r\n};\r\n</script>\r\n\r\n<script setup lang=\"ts\">\r\nimport { omit } from 'lodash';\r\n\r\nimport useInputEvents from '@/components/_global/BalTextInput/composables/useInputEvents';\r\nimport useInputValidation from '@/components/_global/BalTextInput/composables/useInputValidation';\r\nimport { Rules } from '@/types';\r\n\r\nimport useInputStyles from './composables/useInlineInputStyles';\r\n\r\n/**\r\n * TYPES\r\n */\r\ntype InputValue = string | number;\r\ntype InputType = 'text' | 'number' | 'date' | 'email' | 'password';\r\ntype InputSize = 'xs' | 'sm' | 'md' | 'lg';\r\ntype ValidationTrigger = 'input' | 'blur';\r\n\r\ntype Props = {\r\n  name: string;\r\n  modelValue: InputValue;\r\n  isValid?: boolean;\r\n  type?: InputType;\r\n  size?: InputSize;\r\n  disabled?: boolean;\r\n  label?: string;\r\n  inputAlignRight?: boolean;\r\n  decimalLimit?: number;\r\n  validateOn?: ValidationTrigger;\r\n  rules?: Rules;\r\n  format?: (input: string | number) => string | number;\r\n};\r\n\r\n/**\r\n * PROPS & EMITS\r\n */\r\nconst props = withDefaults(defineProps<Props>(), {\r\n  type: 'text',\r\n  modelValue: '',\r\n  isValid: true,\r\n  size: 'md',\r\n  disabled: false,\r\n  inputAlignRight: false,\r\n  decimalLimit: 18,\r\n  validateOn: 'blur',\r\n  rules: () => [],\r\n  label: '',\r\n  format: val => val,\r\n});\r\n\r\nconst emit = defineEmits<{\r\n  (e: 'blur', value: string): void;\r\n  (e: 'input', value: string): void;\r\n  (e: 'update:modelValue', value: string): void;\r\n  (e: 'update:isValid', value: boolean): void;\r\n  (e: 'keydown', value: KeyboardEvent);\r\n  (e: 'editToggled', value: boolean): void;\r\n  (e: 'save'): void;\r\n}>();\r\n\r\n/**\r\n * STATE\r\n */\r\nconst isEditable = ref(false);\r\nconst inputElement = ref<HTMLElement>();\r\n\r\n/**\r\n * COMPOSABLES\r\n */\r\nconst attrs = useAttrs();\r\nconst { errors, isInvalid, validate } = useInputValidation(props, emit);\r\nconst {\r\n  parentClasses,\r\n  inputContainerClasses,\r\n  inputGroupClasses,\r\n  headerClasses,\r\n  footerClasses,\r\n  inputClasses,\r\n  prependClasses,\r\n  appendClasses,\r\n  borderRadiusClasses,\r\n} = useInputStyles(props, isInvalid, attrs);\r\nconst { onInput, onKeydown, onBlur } = useInputEvents(props, emit, validate);\r\n\r\n/**\r\n * COMPUTED\r\n */\r\n// We don't want to pass on parent level classes to the html\r\n// input element. So we need to remove it from the attrs object.\r\nconst inputAttrs = computed(() => omit(attrs, 'class'));\r\n\r\n/**\r\n * FUNCTIONS\r\n */\r\nfunction toggleEditable() {\r\n  isEditable.value = !isEditable.value;\r\n  emit('editToggled', isEditable.value);\r\n  // if the value was changed to false it means that\r\n  // the user clicked the save icon\r\n  if (isEditable.value === false) emit('save');\r\n  setTimeout(() => {\r\n    if (inputElement.value) {\r\n      inputElement.value.focus();\r\n    }\r\n  }, 200);\r\n}\r\n\r\nfunction handleBlur(e: FocusEvent) {\r\n  toggleEditable();\r\n  onBlur(e);\r\n}\r\n</script>\r\n\r\n<template>\r\n  <div :class=\"['bal-text-input', parentClasses, borderRadiusClasses]\">\r\n    <div\r\n      :class=\"['input-container', inputContainerClasses, borderRadiusClasses]\"\r\n    >\r\n      <div v-if=\"$slots.header || label\" :class=\"['header', headerClasses]\">\r\n        <slot name=\"header\">\r\n          <span class=\"label text-secondary\">\r\n            {{ label }}\r\n          </span>\r\n        </slot>\r\n      </div>\r\n      <div :class=\"['input-group', inputGroupClasses]\">\r\n        <BalStack horizontal spacing=\"sm\" class=\"w-full\">\r\n          <div v-if=\"$slots.prepend\" :class=\"['prepend', prependClasses]\">\r\n            <slot name=\"prepend\" />\r\n          </div>\r\n          <input\r\n            v-bind=\"inputAttrs\"\r\n            ref=\"inputElement\"\r\n            :type=\"type\"\r\n            :name=\"name\"\r\n            :value=\"format(modelValue)\"\r\n            :disabled=\"!isEditable || disabled\"\r\n            :class=\"['input', inputClasses]\"\r\n            @blur=\"handleBlur\"\r\n            @input=\"onInput\"\r\n            @keydown=\"onKeydown\"\r\n          />\r\n          <BalStack horizontal spacing=\"none\" align=\"center\">\r\n            <div v-if=\"$slots.append\" :class=\"['append', appendClasses]\">\r\n              <slot name=\"append\" />\r\n            </div>\r\n            <button\r\n              v-if=\"!isEditable\"\r\n              class=\"hover:text-blue-600 dark:hover:text-blue-400\"\r\n              @click=\"toggleEditable\"\r\n            >\r\n              <BalIcon name=\"edit\" size=\"xs\" />\r\n            </button>\r\n            <button\r\n              v-else\r\n              class=\"hover:text-blue-500 dark:hover:text-blue-400\"\r\n              @click=\"toggleEditable\"\r\n            >\r\n              <BalIcon name=\"save\" size=\"xs\" />\r\n            </button>\r\n          </BalStack>\r\n        </BalStack>\r\n      </div>\r\n      <div v-if=\"$slots.footer\" :class=\"['footer', footerClasses]\">\r\n        <slot name=\"footer\" />\r\n      </div>\r\n      <div v-if=\"isInvalid\" :class=\"['error']\">\r\n        {{ errors[0] }}\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.input-container {\r\n  @apply bg-white dark:bg-gray-800;\r\n  background-color: RED !important;\r\n}\r\n\r\n.input-group {\r\n  @apply flex;\r\n  background-color: RED !important;\r\n}\r\n\r\n.input {\r\n  @apply grow bg-transparent overflow-hidden;\r\n  background-color: RED !important;\r\n}\r\n\r\n.label {\r\n  @apply text-sm;\r\n}\r\n\r\n.error {\r\n  @apply text-xs text-red-500 mt-1 ml-1;\r\n}\r\n</style>\r\n","<script setup lang=\"ts\">\r\nimport { TransactionReceipt } from '@ethersproject/abstract-provider';\r\nimport { useI18n } from 'vue-i18n';\r\n\r\nimport BalActionSteps from '@/components/_global/BalActionSteps/BalActionSteps.vue';\r\nimport usePoolCreation from '@/composables/pools/usePoolCreation';\r\nimport useConfig from '@/composables/useConfig';\r\nimport useEthers from '@/composables/useEthers';\r\nimport useTokenApprovalActions from '@/composables/approvals/useTokenApprovalActions';\r\nimport useNetwork from '@/composables/useNetwork';\r\nimport useWeb3 from '@/services/web3/useWeb3';\r\nimport { TransactionActionInfo } from '@/types/transactions';\r\n\r\n/**\r\n * TYPES\r\n */\r\ntype Props = {\r\n  tokenAddresses: string[];\r\n  amounts: string[];\r\n  createDisabled: boolean;\r\n};\r\n\r\ntype CreateState = {\r\n  confirmed: boolean;\r\n  confirmedAt: string;\r\n  receipt?: TransactionReceipt;\r\n  isRestoredTxConfirmed?: boolean;\r\n  isLoadingRestoredTx: boolean;\r\n};\r\n\r\n/**\r\n * PROPS & EMITS\r\n */\r\nconst props = defineProps<Props>();\r\n\r\nconst emit = defineEmits<{\r\n  (e: 'success'): void;\r\n}>();\r\n\r\n/**\r\n * STATE\r\n */\r\nconst createState = reactive<CreateState>({\r\n  confirmed: false,\r\n  confirmedAt: '',\r\n  isRestoredTxConfirmed: false,\r\n  isLoadingRestoredTx: false,\r\n});\r\n\r\n/*\r\n * COMPOSABLES\r\n */\r\n// const route = useRoute();\r\nconst { t } = useI18n();\r\nconst { explorerLinks } = useWeb3();\r\nconst { networkConfig } = useConfig();\r\nconst { isTxConfirmed } = useEthers();\r\nconst { fetchTokenApprovalActions } = useTokenApprovalActions(\r\n  toRef(props, 'tokenAddresses'),\r\n  toRef(props, 'amounts')\r\n);\r\nconst {\r\n  createPool,\r\n  joinPool,\r\n  poolId,\r\n  poolTypeString,\r\n  hasRestoredFromSavedState,\r\n  needsSeeding,\r\n  createPoolTxHash,\r\n} = usePoolCreation();\r\nconst { networkSlug } = useNetwork();\r\n\r\nconst actions = ref<TransactionActionInfo[]>([\r\n  {\r\n    label: t('createPool'),\r\n    loadingLabel: t('investment.preview.loadingLabel.create'),\r\n    confirmingLabel: t('confirming'),\r\n    action: createPool,\r\n    stepTooltip: t('createPoolTooltip', [poolTypeString.value]),\r\n  },\r\n  {\r\n    label: t('fundPool'),\r\n    loadingLabel: t('investment.preview.loadingLabel.fund'),\r\n    confirmingLabel: t('confirming'),\r\n    action: joinPool,\r\n    stepTooltip: t('fundPoolTooltip'),\r\n  },\r\n]);\r\n\r\n/**\r\n * COMPUTED\r\n */\r\nconst requiredActions = computed(() => {\r\n  if (\r\n    (hasRestoredFromSavedState.value && needsSeeding.value) ||\r\n    createState.isRestoredTxConfirmed\r\n  ) {\r\n    return actions.value.filter(action => action.label === t('fundPool'));\r\n  }\r\n  return actions.value;\r\n});\r\n\r\nconst explorerLink = computed((): string =>\r\n  createState.receipt\r\n    ? explorerLinks.txLink(createState.receipt.transactionHash)\r\n    : ''\r\n);\r\n\r\nonBeforeMount(async () => {\r\n  if (createPoolTxHash.value) {\r\n    createState.isLoadingRestoredTx = true;\r\n    const isConfirmed = await isTxConfirmed(createPoolTxHash.value);\r\n    createState.isLoadingRestoredTx = false;\r\n    createState.isRestoredTxConfirmed = isConfirmed;\r\n  }\r\n\r\n  const approvalActions = await fetchTokenApprovalActions(\r\n    networkConfig.addresses.vault\r\n  );\r\n  actions.value = [...approvalActions, ...actions.value];\r\n});\r\n\r\n/**\r\n * METHODS\r\n */\r\nfunction handleSuccess(details: any): void {\r\n  createState.confirmed = true;\r\n  createState.receipt = details.receipt;\r\n  createState.confirmedAt = details.confirmedAt;\r\n  emit('success');\r\n}\r\n</script>\r\n\r\n<template>\r\n  <div>\r\n    <BalActionSteps\r\n      :actions=\"requiredActions\"\r\n      :disabled=\"props.createDisabled\"\r\n      :isLoading=\"createState.isLoadingRestoredTx\"\r\n      :loadingLabel=\"$t('restoring')\"\r\n      @success=\"handleSuccess\"\r\n    />\r\n    <template v-if=\"createState.confirmed\">\r\n      <div\r\n        class=\"flex justify-between items-center mt-4 text-sm text-gray-400 dark:text-gray-600\"\r\n      >\r\n        <div class=\"flex items-center\">\r\n          <BalIcon name=\"clock\" />\r\n          <span class=\"ml-2\">\r\n            {{ createState.confirmedAt }}\r\n          </span>\r\n        </div>\r\n        <BalLink\r\n          :href=\"explorerLink\"\r\n          external\r\n          noStyle\r\n          class=\"group flex items-center\"\r\n        >\r\n          {{ networkConfig.explorerName }}\r\n          <BalIcon\r\n            name=\"arrow-up-right\"\r\n            size=\"sm\"\r\n            class=\"ml-px group-hover:text-pink-500 transition-colors\"\r\n          />\r\n        </BalLink>\r\n      </div>\r\n      <BalBtn\r\n        tag=\"router-link\"\r\n        :to=\"{ name: 'pool', params: { networkSlug, id: poolId } }\"\r\n        color=\"gray\"\r\n        outline\r\n        block\r\n        class=\"mt-2\"\r\n      >\r\n        {{ $t('viewPool') }}\r\n      </BalBtn>\r\n    </template>\r\n  </div>\r\n</template>\r\n","<script lang=\"ts\" setup>\r\nimport BigNumber from 'bignumber.js';\r\nimport { useI18n } from 'vue-i18n';\r\n\r\nimport AnimatePresence from '@/components/animate/AnimatePresence.vue';\r\nimport CreateActions from '@/components/cards/CreatePool/CreateActions.vue';\r\nimport usePoolCreation from '@/composables/pools/usePoolCreation';\r\nimport useNumbers, { FNumFormats } from '@/composables/useNumbers';\r\nimport { useTokens } from '@/providers/tokens.provider';\r\nimport { bnum, isSameAddress, shortenLabel } from '@/lib/utils';\r\nimport useWeb3 from '@/services/web3/useWeb3';\r\nimport useNetwork from '@/composables/useNetwork';\r\n\r\n/**\r\n * PROPS & EMITS\r\n */\r\nconst emit = defineEmits<{\r\n  (e: 'close'): void;\r\n  (e: 'success'): void;\r\n}>();\r\n\r\n/**\r\n * STATE\r\n */\r\n\r\nconst poolCreated = ref(false);\r\n\r\n/**\r\n * COMPOSABLES\r\n */\r\nconst {\r\n  seedTokens,\r\n  poolLiquidity,\r\n  poolTypeString,\r\n  initialFee,\r\n  name: poolName,\r\n  symbol: poolSymbol,\r\n  useNativeAsset,\r\n  feeManagementType,\r\n  feeController,\r\n  thirdPartyFeeController,\r\n  createPoolTxHash,\r\n  goBack,\r\n  setActiveStep,\r\n  sortSeedTokens,\r\n  getScaledAmounts,\r\n  saveState,\r\n  getPoolSymbol,\r\n} = usePoolCreation();\r\n\r\nconst { getToken, priceFor, nativeAsset, wrappedNativeAsset, balanceFor } =\r\n  useTokens();\r\nconst { fNum } = useNumbers();\r\nconst { t } = useI18n();\r\nconst { account } = useWeb3();\r\nconst { networkConfig } = useNetwork();\r\n\r\n/**\r\n * LIFECYCLE\r\n */\r\nonBeforeMount(() => {\r\n  sortSeedTokens();\r\n  poolName.value = poolName.value || getPoolSymbol();\r\n  poolSymbol.value = poolSymbol.value || getPoolSymbol();\r\n});\r\n\r\n/**\r\n * COMPUTED\r\n */\r\nconst title = computed((): string =>\r\n  poolCreated.value\r\n    ? t('poolCreated')\r\n    : t('previewPool', [poolTypeString.value])\r\n);\r\n\r\n// translations are breaking when directly using this label\r\nconst initialWeightLabel = computed(() => t('initialWeight'));\r\n\r\nconst tokenAddresses = computed((): string[] => {\r\n  return seedTokens.value.map(token => {\r\n    if (\r\n      token.tokenAddress == wrappedNativeAsset.value.address &&\r\n      useNativeAsset.value\r\n    ) {\r\n      return nativeAsset.address;\r\n    }\r\n    return token.tokenAddress;\r\n  });\r\n});\r\n\r\nconst tokenAmounts = computed((): string[] => {\r\n  return getScaledAmounts();\r\n});\r\n\r\nconst hasMissingPoolNameOrSymbol = computed(() => {\r\n  return poolSymbol.value === '' || poolName.value === '';\r\n});\r\n\r\nconst initialWeights = computed(() => {\r\n  const _initialWeights: Record<string, BigNumber> = {};\r\n  for (const seedToken of seedTokens.value) {\r\n    _initialWeights[seedToken.tokenAddress] = bnum(seedToken.amount)\r\n      .times(priceFor(seedToken.tokenAddress))\r\n      .div(poolLiquidity.value);\r\n  }\r\n  return _initialWeights;\r\n});\r\n\r\n// an invalid initial weight is one where the the weight\r\n// is less than 1% of the pools value\r\nconst hasInvalidInitialWeight = computed(() => {\r\n  return Object.values(initialWeights.value).some(initialWeight =>\r\n    initialWeight.lt(0.01)\r\n  );\r\n});\r\n\r\nconst showNativeAssetWarning = computed(() => {\r\n  const nativeAssetBalance = balanceFor(nativeAsset.address);\r\n  const wrappedNativeAssetBalance = balanceFor(\r\n    wrappedNativeAsset.value.address\r\n  );\r\n\r\n  const seedAmount =\r\n    seedTokens.value.find(token =>\r\n      isSameAddress(token.tokenAddress, wrappedNativeAsset.value.address)\r\n    )?.amount || '0';\r\n  // when the UI is set to use the native asset and the user does\r\n  // not have the required native asset amount to cover the fund\r\n  if (useNativeAsset.value && bnum(nativeAssetBalance).lt(seedAmount)) {\r\n    return true;\r\n    // in the reverse case, if the user does not have the required\r\n    // wrapped amount as well\r\n  }\r\n  if (!useNativeAsset.value && bnum(wrappedNativeAssetBalance).lt(seedAmount)) {\r\n    return true;\r\n  }\r\n  return false;\r\n});\r\n\r\n/**\r\n * METHODS\r\n */\r\nfunction handleSuccess(): void {\r\n  poolCreated.value = true;\r\n  emit('success');\r\n}\r\n\r\nfunction navigateToPoolFee() {\r\n  setActiveStep(1);\r\n}\r\n\r\nfunction getSwapFeeManager() {\r\n  if (feeManagementType.value === 'governance') {\r\n    return t('balancerGovernance');\r\n  } else {\r\n    if (feeController.value === 'self') {\r\n      return `${t('myWallet')}: ${shortenLabel(account.value)}`;\r\n    } else {\r\n      return shortenLabel(thirdPartyFeeController.value);\r\n    }\r\n  }\r\n}\r\n\r\nfunction getInitialWeightHighlightClass(tokenAddress: string) {\r\n  return {\r\n    'text-secondary': initialWeights[tokenAddress]?.gte(0.01),\r\n    'text-orange-500': initialWeights[tokenAddress]?.lt(0.01),\r\n  };\r\n}\r\n</script>\r\n\r\n<template>\r\n  <BalStack vertical spacing=\"xs\" class=\"mb-24\">\r\n    <BalCard shadow=\"xl\" noBorder>\r\n      <BalStack vertical spacing=\"xs\">\r\n        <span class=\"text-xs text-secondary\">{{ networkConfig?.name }}</span>\r\n      </BalStack>\r\n      <BalStack vertical>\r\n        <div class=\"flex items-center mt-2\">\r\n          <BalCircle\r\n            v-if=\"poolCreated\"\r\n            size=\"8\"\r\n            color=\"green\"\r\n            class=\"mr-2 text-white\"\r\n          >\r\n            <BalIcon name=\"check\" />\r\n          </BalCircle>\r\n          <BalStack horizontal align=\"center\" spacing=\"xs\">\r\n            <button\r\n              class=\"flex text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 transition-colors\"\r\n              @click=\"goBack\"\r\n            >\r\n              <BalIcon class=\"flex\" name=\"chevron-left\" />\r\n            </button>\r\n\r\n            <h5 class=\"font-semibold dark:text-gray-300\">\r\n              {{ title }}\r\n            </h5>\r\n          </BalStack>\r\n        </div>\r\n        <BalCard shadow=\"none\" noPad>\r\n          <div class=\"p-2 bg-gray-50 dark:bg-gray-700\">\r\n            <h6 class=\"text-sm\">\r\n              {{ $t('createAPool.tokensAndSeedLiquidity') }}\r\n            </h6>\r\n          </div>\r\n          <BalStack vertical spacing=\"none\" withBorder>\r\n            <div\r\n              v-for=\"token in seedTokens\"\r\n              :key=\"`tokenpreview-${token.tokenAddress}`\"\r\n              class=\"p-4\"\r\n            >\r\n              <BalStack horizontal justify=\"between\">\r\n                <BalStack horizontal align=\"center\">\r\n                  <BalAsset :address=\"token.tokenAddress\" :size=\"36\" />\r\n                  <BalStack vertical spacing=\"none\">\r\n                    <span class=\"font-semibold\">\r\n                      {{ fNum(token.weight / 100, FNumFormats.percent) }}\r\n                      {{ getToken(token.tokenAddress)?.symbol }}\r\n                    </span>\r\n                    <span\r\n                      :class=\"[\r\n                        'text-sm',\r\n                        getInitialWeightHighlightClass(token.tokenAddress),\r\n                      ]\"\r\n                    >\r\n                      {{ initialWeightLabel }}:\r\n                      {{\r\n                        fNum(\r\n                          initialWeights[token.tokenAddress].toString(),\r\n                          FNumFormats.percent\r\n                        )\r\n                      }}\r\n                    </span>\r\n                  </BalStack>\r\n                </BalStack>\r\n                <BalStack vertical spacing=\"none\" align=\"end\">\r\n                  <span class=\"font-semibold\">\r\n                    {{ fNum(token.amount, FNumFormats.token) }}\r\n                  </span>\r\n                  <span class=\"text-sm text-secondary\">\r\n                    {{\r\n                      fNum(\r\n                        bnum(token.amount)\r\n                          .times(priceFor(token.tokenAddress))\r\n                          .toString(),\r\n                        FNumFormats.fiat\r\n                      )\r\n                    }}\r\n                  </span>\r\n                </BalStack>\r\n              </BalStack>\r\n            </div>\r\n          </BalStack>\r\n          <BalStack\r\n            horizontal\r\n            justify=\"between\"\r\n            class=\"p-4 border-t dark:border-gray-600\"\r\n          >\r\n            <h6>{{ $t('total') }}</h6>\r\n            <h6>\r\n              {{ fNum(poolLiquidity.toString(), FNumFormats.fiat) }}\r\n            </h6>\r\n          </BalStack>\r\n        </BalCard>\r\n        <BalCard shadow=\"none\" noPad>\r\n          <div class=\"p-2 bg-gray-50 dark:bg-gray-700\">\r\n            <h6 class=\"text-sm\">\r\n              {{ $t('summary') }}\r\n            </h6>\r\n          </div>\r\n          <BalStack vertical spacing=\"xs\" class=\"p-3\">\r\n            <BalStack horizontal justify=\"between\">\r\n              <span class=\"text-sm\">{{ $t('poolName') }}:</span>\r\n              <BalInlineInput\r\n                v-model=\"poolName\"\r\n                name=\"poolName\"\r\n                size=\"xs\"\r\n                inputAlignRight\r\n                @save=\"saveState\"\r\n              />\r\n            </BalStack>\r\n            <BalStack horizontal justify=\"between\">\r\n              <span class=\"text-sm\">{{ $t('poolSymbol') }}:</span>\r\n              <BalInlineInput\r\n                v-model=\"poolSymbol\"\r\n                name=\"poolSymbol\"\r\n                size=\"xs\"\r\n                inputAlignRight\r\n                @save=\"saveState\"\r\n              />\r\n            </BalStack>\r\n            <BalStack horizontal justify=\"between\">\r\n              <span class=\"text-sm\">{{ $t('poolType') }}:</span>\r\n              <span class=\"text-sm capitalize\">{{ poolTypeString }}</span>\r\n            </BalStack>\r\n            <BalStack horizontal justify=\"between\" class=\"mt-1\">\r\n              <span class=\"text-sm\">{{ $t('swapFee') }}:</span>\r\n              <BalStack horizontal spacing=\"sm\">\r\n                <span class=\"text-sm\">{{\r\n                  fNum(initialFee, FNumFormats.percent)\r\n                }}</span>\r\n                <button class=\"hover:text-blue-500\" @click=\"navigateToPoolFee\">\r\n                  <BalIcon name=\"edit\" size=\"xs\" />\r\n                </button>\r\n              </BalStack>\r\n            </BalStack>\r\n            <BalStack horizontal justify=\"between\">\r\n              <span class=\"text-sm\">{{ $t('swapFeeManager') }}:</span>\r\n              <BalStack horizontal spacing=\"sm\">\r\n                <span class=\"text-sm\">{{ getSwapFeeManager() }}</span>\r\n                <button class=\"hover:text-blue-500\" @click=\"navigateToPoolFee\">\r\n                  <BalIcon name=\"edit\" size=\"xs\" />\r\n                </button>\r\n              </BalStack>\r\n            </BalStack>\r\n          </BalStack>\r\n        </BalCard>\r\n        <AnimatePresence\r\n          :isVisible=\"hasMissingPoolNameOrSymbol\"\r\n          unmountInstantly\r\n        >\r\n          <BalAlert :title=\"$t('missingPoolNameOrSymbol')\" type=\"error\">\r\n            {{ $t('missingPoolNameOrSymbolInfo') }}\r\n          </BalAlert>\r\n        </AnimatePresence>\r\n        <AnimatePresence\r\n          :isVisible=\"hasInvalidInitialWeight && createPoolTxHash !== ''\"\r\n          unmountInstantly\r\n        >\r\n          <BalAlert\r\n            :title=\"$t('createAPool.invalidInitialWeightsTitle')\"\r\n            type=\"warning\"\r\n          >\r\n            {{ $t('createAPool.invalidInitialWeightsInfo') }}\r\n          </BalAlert>\r\n        </AnimatePresence>\r\n        <AnimatePresence :isVisible=\"showNativeAssetWarning\" unmountInstantly>\r\n          <BalAlert\r\n            :title=\"$t('createAPool.invalidInitialWeightsTitle')\"\r\n            type=\"warning\"\r\n          >\r\n            {{ $t('createAPool.nativeAssetWarning') }}\r\n          </BalAlert>\r\n        </AnimatePresence>\r\n\r\n        <CreateActions\r\n          :createDisabled=\"hasMissingPoolNameOrSymbol\"\r\n          :tokenAddresses=\"tokenAddresses\"\r\n          :amounts=\"tokenAmounts\"\r\n          @success=\"handleSuccess\"\r\n        />\r\n      </BalStack>\r\n    </BalCard>\r\n  </BalStack>\r\n</template>\r\n","<script lang=\"ts\" setup>\r\nimport { orderBy, take } from 'lodash';\r\nimport { useI18n } from 'vue-i18n';\r\n\r\nimport TokenPills from '@/components/tables/PoolsTable/TokenPills/TokenPills.vue';\r\nimport usePoolCreation from '@/composables/pools/usePoolCreation';\r\nimport useNumbers, { FNumFormats } from '@/composables/useNumbers';\r\nimport useWeb3 from '@/services/web3/useWeb3';\r\nimport useNetwork from '@/composables/useNetwork';\r\n\r\n/**\r\n * COMPOSABLES\r\n */\r\nconst { isWalletReady } = useWeb3();\r\nconst { networkConfig } = useNetwork();\r\nconst {\r\n  similarPools,\r\n  isLoadingSimilarPools,\r\n  existingPool,\r\n  setStep,\r\n  proceed,\r\n  resetPoolCreationState,\r\n  goBack,\r\n} = usePoolCreation();\r\nconst { fNum } = useNumbers();\r\nconst { t } = useI18n();\r\n\r\n/** COMPUTED */\r\nconst title = computed(() => {\r\n  if (existingPool.value) return t('createAPool.poolAlreadyExists');\r\n  return t('createAPool.similarPoolsExist');\r\n});\r\n\r\n// limit the similar pools on the UI to the first 4 ones\r\n// with highest tvl\r\nconst relevantSimilarPools = computed(() => {\r\n  return take(\r\n    orderBy(similarPools.value, pool => Number(pool.totalLiquidity), 'desc'),\r\n    4\r\n  );\r\n});\r\n\r\n/**\r\n * FUNCTIONS\r\n */\r\nfunction cancel() {\r\n  resetPoolCreationState();\r\n  setStep(0);\r\n}\r\n</script>\r\n\r\n<template>\r\n  <BalCard shadow=\"xl\" noBorder :class=\"{ 'border-red-400': existingPool }\">\r\n    <BalStack vertical>\r\n      <BalStack vertical spacing=\"xs\">\r\n        <span\r\n          v-if=\"isWalletReady\"\r\n          class=\"text-xs text-gray-600 dark:text-gray-400\"\r\n          >{{ networkConfig?.name }}</span\r\n        >\r\n        <BalStack align=\"center\" horizontal spacing=\"xs\">\r\n          <button\r\n            class=\"flex text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 transition-colors\"\r\n            @click=\"goBack\"\r\n          >\r\n            <BalIcon class=\"flex\" name=\"chevron-left\" />\r\n          </button>\r\n          <h5 class=\"font-semibold dark:text-gray-300\">\r\n            {{ title }}\r\n          </h5>\r\n        </BalStack>\r\n      </BalStack>\r\n      <p v-if=\"existingPool\">\r\n        {{ $t('createAPool.existingPoolInfo') }}\r\n      </p>\r\n      <div v-if=\"isLoadingSimilarPools\" />\r\n      <BalCard v-else-if=\"existingPool\" shadow=\"none\">\r\n        <BalStack vertical>\r\n          <BalStack spacing=\"sm\" horizontal align=\"center\">\r\n            <div>\r\n              <BalAssetSet :width=\"35\" :addresses=\"existingPool.tokensList\" />\r\n            </div>\r\n            <TokenPills :tokens=\"existingPool.tokens\" />\r\n          </BalStack>\r\n          <BalStack horizontal spacing=\"lg\">\r\n            <BalStack vertical spacing=\"none\">\r\n              <span class=\"font-medium text-secondary\">{{\r\n                $t('poolValue')\r\n              }}</span>\r\n              <span class=\"font-semibold\">{{\r\n                fNum(existingPool.totalLiquidity, FNumFormats.fiat)\r\n              }}</span>\r\n            </BalStack>\r\n            <BalStack vertical spacing=\"none\">\r\n              <span class=\"font-medium text-secondary\">{{\r\n                $t('volume24hShort')\r\n              }}</span>\r\n              <span class=\"font-semibold\">{{\r\n                fNum(existingPool?.volumeSnapshot || '0', FNumFormats.fiat)\r\n              }}</span>\r\n            </BalStack>\r\n            <BalStack vertical spacing=\"none\">\r\n              <span class=\"font-medium capitalize text-secondary\">{{\r\n                $t('fees')\r\n              }}</span>\r\n              <span class=\"font-semibold\">{{\r\n                fNum(existingPool.swapFee, FNumFormats.percent)\r\n              }}</span>\r\n            </BalStack>\r\n          </BalStack>\r\n        </BalStack>\r\n      </BalCard>\r\n      <BalStack v-else vertical>\r\n        <BalCard\r\n          v-for=\"pool in relevantSimilarPools\"\r\n          :key=\"pool.id\"\r\n          shadow=\"none\"\r\n        >\r\n          <BalStack vertical>\r\n            <BalStack spacing=\"sm\" horizontal align=\"center\">\r\n              <div>\r\n                <BalAssetSet :width=\"35\" :addresses=\"pool.tokensList\" />\r\n              </div>\r\n              <TokenPills :tokens=\"pool.tokens\" />\r\n            </BalStack>\r\n            <BalStack horizontal spacing=\"xl\">\r\n              <BalStack vertical spacing=\"none\">\r\n                <span class=\"font-medium text-secondary\">{{\r\n                  $t('poolValue')\r\n                }}</span>\r\n                <span class=\"font-semibold\">{{\r\n                  fNum(pool.totalLiquidity, FNumFormats.fiat)\r\n                }}</span>\r\n              </BalStack>\r\n              <BalStack vertical spacing=\"none\">\r\n                <span class=\"font-medium text-secondary\">{{\r\n                  $t('volume24hShort')\r\n                }}</span>\r\n                <span class=\"font-semibold\">{{\r\n                  fNum(pool?.volumeSnapshot || '0', FNumFormats.fiat)\r\n                }}</span>\r\n              </BalStack>\r\n              <BalStack vertical spacing=\"none\">\r\n                <span class=\"font-medium capitalize text-secondary\">{{\r\n                  $t('fees')\r\n                }}</span>\r\n                <span class=\"font-semibold\">{{\r\n                  fNum(pool.swapFee, FNumFormats.percent)\r\n                }}</span>\r\n              </BalStack>\r\n            </BalStack>\r\n          </BalStack>\r\n        </BalCard>\r\n      </BalStack>\r\n      <BalAlert\r\n        v-if=\"!existingPool\"\r\n        block\r\n        type=\"warning\"\r\n        title=\"Are you sure you want to continue?\"\r\n      >\r\n        You can continue to create your pool anyway, but you’ll have to pay pool\r\n        creation gas costs and liquidity will be fractured which is likely to\r\n        result in your new pool being less profitable.\r\n      </BalAlert>\r\n      <BalStack horizontal expandChildren>\r\n        <BalBtn block outline color=\"black\" @click=\"cancel\">\r\n          {{ $t('cancel') }}\r\n        </BalBtn>\r\n        <BalBtn v-if=\"!existingPool\" block color=\"gradient\" @click=\"proceed\">\r\n          Continue anyway\r\n        </BalBtn>\r\n      </BalStack>\r\n    </BalStack>\r\n  </BalCard>\r\n</template>\r\n","<script lang=\"ts\" setup>\r\nimport usePoolCreation from '@/composables/pools/usePoolCreation';\r\nimport useNumbers, { FNumFormats } from '@/composables/useNumbers';\r\nimport { useTokens } from '@/providers/tokens.provider';\r\nimport { Pool } from '@/services/pool/types';\r\nimport { networkSlug } from '@/composables/useNetwork';\r\n\r\n/**\r\n * COMPOSABLES\r\n */\r\nconst { similarPools } = usePoolCreation();\r\nconst { getToken } = useTokens();\r\nconst { fNum } = useNumbers();\r\n/**\r\n * FUNCTIONS\r\n */\r\nfunction getPoolLabel(pool: Pool) {\r\n  const tokensString = pool.tokens\r\n    .map(\r\n      t =>\r\n        `${getToken(t.address)?.symbol} ${fNum(\r\n          t.weight || '0',\r\n          FNumFormats.percent\r\n        )}`\r\n    )\r\n    .join(', ');\r\n  return `${tokensString} (${fNum(pool.swapFee, FNumFormats.percent)} fee)`;\r\n}\r\n</script>\r\n\r\n<template>\r\n  <BalCard noPad shadow=\"none\">\r\n    <BalStack\r\n      spacing=\"sm\"\r\n      align=\"center\"\r\n      horizontal\r\n      class=\"p-2 px-3 text-orange-500 border-b dark:border-gray-600\"\r\n    >\r\n      <BalIcon class=\"mt-1\" name=\"alert-circle\" size=\"md\" />\r\n      <h6>{{ $t('createAPool.similarPoolsExist') }}</h6>\r\n    </BalStack>\r\n    <BalStack vertical spacing=\"sm\" class=\"p-4\">\r\n      <BalLink\r\n        v-for=\"pool in similarPools\"\r\n        :key=\"`similarpool-${pool.id}`\"\r\n        target=\"_blank\"\r\n        :href=\"`/${networkSlug}/pool/${pool.id}`\"\r\n      >\r\n        <span class=\"text-sm\">{{ getPoolLabel(pool) }}</span>\r\n      </BalLink>\r\n    </BalStack>\r\n  </BalCard>\r\n</template>\r\n","export default \"__VITE_ASSET__c51db293__\"","<script lang=\"ts\" setup>\r\nimport usePoolCreation from '@/composables/pools/usePoolCreation';\r\nimport useBreakpoints from '@/composables/useBreakpoints';\r\nimport useNumbers, { FNumFormats } from '@/composables/useNumbers';\r\nimport { useTokens } from '@/providers/tokens.provider';\r\nimport coingecko from '@/assets/images/icons/coingecko.svg';\r\n\r\ntype Props = {\r\n  toggleUnknownPriceModal?: () => void;\r\n};\r\n\r\ndefineProps<Props>();\r\n\r\n/**\r\n * COMPOSABLES\r\n */\r\nconst { upToLargeBreakpoint } = useBreakpoints();\r\nconst { tokensList } = usePoolCreation();\r\nconst { getToken, priceFor, injectedPrices } = useTokens();\r\nconst { fNum } = useNumbers();\r\n\r\n/**\r\n * COMPUTED\r\n */\r\nconst validTokens = computed(() => tokensList.value.filter(t => t !== ''));\r\nconst knownTokens = computed(() =>\r\n  validTokens.value.filter(\r\n    token => priceFor(token) !== 0 && !injectedPrices.value[token]?.usd\r\n  )\r\n);\r\nconst unknownTokens = computed(() =>\r\n  validTokens.value.filter(\r\n    token => priceFor(token) === 0 || injectedPrices.value[token]?.usd\r\n  )\r\n);\r\nconst hasUnknownPrice = computed(() =>\r\n  validTokens.value.some(token => priceFor(token) === 0)\r\n);\r\n</script>\r\n\r\n<template>\r\n  <BalCard noPad shadow=\"none\" :noBorder=\"upToLargeBreakpoint\">\r\n    <div v-if=\"!upToLargeBreakpoint\" class=\"p-4 border-b dark:border-gray-600\">\r\n      <BalStack horizontal spacing=\"sm\" align=\"center\">\r\n        <h6 class=\"dark:text-gray-300\">\r\n          {{ $t('tokenPrices') }}\r\n        </h6>\r\n        <BalTooltip class=\"mt-1\" :text=\"$t('correctTokenPricing')\" />\r\n      </BalStack>\r\n    </div>\r\n    <div class=\"p-2 px-4\">\r\n      <BalStack vertical isDynamic spacing=\"sm\">\r\n        <BalStack\r\n          v-for=\"token in knownTokens\"\r\n          :key=\"`tokenPrice-known-${token}`\"\r\n          justify=\"between\"\r\n          align=\"center\"\r\n        >\r\n          <span>{{ getToken(token)?.symbol }}</span>\r\n          <BalStack horizontal justify=\"center\">\r\n            <div>\r\n              <div class=\"-mr-1\">\r\n                <span>{{ fNum(priceFor(token), FNumFormats.fiat) }}</span>\r\n              </div>\r\n            </div>\r\n            <img class=\"h-5\" :src=\"coingecko\" />\r\n          </BalStack>\r\n        </BalStack>\r\n      </BalStack>\r\n      <BalStack\r\n        vertical\r\n        isDynamic\r\n        spacing=\"xs\"\r\n        :class=\"{ 'mt-1': knownTokens.length }\"\r\n      >\r\n        <button\r\n          v-for=\"token in unknownTokens\"\r\n          :key=\"`tokenPrice-unknown-${token}`\"\r\n          :class=\"[\r\n            'mt-1',\r\n            {\r\n              'text-red-500 hover:text-red-700': hasUnknownPrice,\r\n              'hover:text-blue-500': !hasUnknownPrice,\r\n            },\r\n          ]\"\r\n          @click=\"toggleUnknownPriceModal\"\r\n        >\r\n          <BalStack horizontal isDynamic justify=\"between\">\r\n            <span\r\n              :class=\"[\r\n                'w-1/2 text-left',\r\n                { 'font-medium': injectedPrices[token]?.usd === undefined },\r\n              ]\"\r\n              >{{ getToken(token)?.symbol }}</span\r\n            >\r\n            <BalStack\r\n              v-if=\"injectedPrices[token]?.usd !== undefined\"\r\n              horizontal\r\n              align=\"center\"\r\n              class=\"w-1/2 text-right\"\r\n            >\r\n              <span class=\"w-4/5 break-words\">{{\r\n                fNum(injectedPrices[token]?.usd, FNumFormats.fiat)\r\n              }}</span>\r\n              <BalIcon size=\"sm\" name=\"edit\" class=\"mr-px\" />\r\n            </BalStack>\r\n            <BalStack\r\n              v-else\r\n              spacing=\"none\"\r\n              horizontal\r\n              align=\"center\"\r\n              class=\"w-3/4\"\r\n            >\r\n              <div class=\"justify-end w-full\">\r\n                <div class=\"-mr-1\">\r\n                  <span class=\"text-left\">{{ $t('enterAPrice') }}</span>\r\n                </div>\r\n              </div>\r\n              <BalIcon name=\"alert-circle\" />\r\n            </BalStack>\r\n          </BalStack>\r\n        </button>\r\n      </BalStack>\r\n    </div>\r\n  </BalCard>\r\n</template>\r\n","<script setup lang=\"ts\">\r\nimport { computed } from 'vue';\r\nimport { useI18n } from 'vue-i18n';\r\n\r\nimport TokenInput from '@/components/inputs/TokenInput/TokenInput.vue';\r\nimport usePoolCreation from '@/composables/pools/usePoolCreation';\r\nimport { useTokens } from '@/providers/tokens.provider';\r\nimport { FiatCurrency } from '@/constants/currency';\r\nimport { bnum, formatWordListAsSentence, isSameAddress } from '@/lib/utils';\r\nimport { isLessThanOrEqualTo } from '@/lib/utils/validations';\r\nimport { TokenPrices } from '@/services/coingecko/api/price.service';\r\n\r\ntype Props = {\r\n  isVisible: boolean;\r\n  unknownTokens: string[];\r\n};\r\n\r\nconst props = withDefaults(defineProps<Props>(), {\r\n  isVisible: false,\r\n  unknownTokens: () => [],\r\n});\r\n\r\nconst emit = defineEmits(['close']);\r\n// Hundred million max price for a token\r\nconst PRICE_CAP = 100000000;\r\n\r\n/**\r\n * STATE\r\n */\r\n\r\n/**\r\n * COMPOSABLES\r\n */\r\nconst { seedTokens } = usePoolCreation();\r\nconst { getToken, injectPrices, injectedPrices } = useTokens();\r\nconst { t } = useI18n();\r\n\r\n/**\r\n * LIFECYCLE\r\n */\r\nconst unknownTokenPrices = computed((): TokenPrices => {\r\n  const _unknownTokenPrices = {};\r\n  for (const token of props.unknownTokens) {\r\n    _unknownTokenPrices[token] = {\r\n      [FiatCurrency.usd]:\r\n        injectedPrices.value?.[token]?.[FiatCurrency.usd] || null,\r\n    };\r\n  }\r\n  return _unknownTokenPrices;\r\n});\r\n\r\n/**\r\n * COMPUTED\r\n */\r\nconst readableUnknownTokenSymbols = computed(() => {\r\n  const tokenSymbols = (props.unknownTokens || []).map(\r\n    tokenAddress => getToken(tokenAddress)?.symbol\r\n  );\r\n  return formatWordListAsSentence(tokenSymbols, t);\r\n});\r\n\r\nconst isSubmitDisabled = computed(() => {\r\n  const noPricesEntered = props.unknownTokens.some(token =>\r\n    [null, ''].includes(unknownTokenPrices[token])\r\n  );\r\n  const hasLargePrice = props.unknownTokens.some(token =>\r\n    bnum(unknownTokenPrices?.[token]?.[FiatCurrency.usd] || '0').gt(PRICE_CAP)\r\n  );\r\n  return noPricesEntered || hasLargePrice;\r\n});\r\n\r\n/**\r\n * METHODS\r\n */\r\nfunction getIndexOfUnknownToken(address: string) {\r\n  return seedTokens.value.findIndex(token =>\r\n    isSameAddress(address, token.tokenAddress)\r\n  );\r\n}\r\n\r\nfunction injectUnknownPrices() {\r\n  injectPrices(unknownTokenPrices.value);\r\n  emit('close');\r\n}\r\n</script>\r\n\r\n<template>\r\n  <BalModal\r\n    :title=\"t('unknownTokenPrice')\"\r\n    :show=\"isVisible\"\r\n    @close=\"$emit('close')\"\r\n  >\r\n    <BalStack vertical isDynamic>\r\n      <p>\r\n        {{\r\n          $t('createAPool.unknownTokenPriceWarning', [\r\n            readableUnknownTokenSymbols,\r\n          ])\r\n        }}\r\n      </p>\r\n\r\n      <span class=\"font-semibold\">\r\n        {{ $t('createAPool.enterTokenPrice', [readableUnknownTokenSymbols]) }}\r\n      </span>\r\n      <BalStack isDynamic vertical>\r\n        <TokenInput\r\n          v-for=\"(address, i) in unknownTokens\"\r\n          :key=\"i\"\r\n          v-model:amount=\"unknownTokenPrices[address][FiatCurrency.usd]\"\r\n          fixedToken\r\n          placeholder=\"$0.00\"\r\n          :address=\"address\"\r\n          :name=\"`initial-token-${\r\n            seedTokens[getIndexOfUnknownToken(address)].tokenAddress\r\n          }`\"\r\n          noMax\r\n          hideFooter\r\n          :rules=\"[isLessThanOrEqualTo(PRICE_CAP)]\"\r\n          ignoreWalletBalance\r\n        />\r\n      </BalStack>\r\n      <BalBtn :disabled=\"isSubmitDisabled\" @click=\"injectUnknownPrices\">\r\n        {{ $t('submit') }}\r\n      </BalBtn>\r\n    </BalStack>\r\n  </BalModal>\r\n</template>\r\n","<script setup lang=\"ts\">\r\nimport { computed, nextTick, onBeforeMount, ref, watch } from 'vue';\r\nimport { useI18n } from 'vue-i18n';\r\nimport { useRoute } from 'vue-router';\r\n\r\nimport BalVerticalSteps from '@/components/_global/BalVerticalSteps/BalVerticalSteps.vue';\r\nimport AnimatePresence from '@/components/animate/AnimatePresence.vue';\r\nimport ChooseWeights from '@/components/cards/CreatePool/ChooseWeights.vue';\r\nimport InitialLiquidity from '@/components/cards/CreatePool/InitialLiquidity.vue';\r\nimport PoolFees from '@/components/cards/CreatePool/PoolFees.vue';\r\nimport PoolSummary from '@/components/cards/CreatePool/PoolSummary.vue';\r\nimport PreviewPool from '@/components/cards/CreatePool/PreviewPool.vue';\r\nimport SimilarPools from '@/components/cards/CreatePool/SimilarPools.vue';\r\nimport SimilarPoolsCompact from '@/components/cards/CreatePool/SimilarPoolsCompact.vue';\r\nimport TokenPrices from '@/components/cards/CreatePool/TokenPrices.vue';\r\nimport Col3Layout from '@/components/layouts/Col3Layout.vue';\r\nimport UnknownTokenPriceModal from '@/components/modals/UnknownTokenPrice/UnknownTokenPriceModal.vue';\r\nimport usePoolCreation, {\r\n  POOL_CREATION_STATE_KEY,\r\n  POOL_CREATION_STATE_VERSION,\r\n} from '@/composables/pools/usePoolCreation';\r\nimport useAlerts from '@/composables/useAlerts';\r\nimport useBreakpoints from '@/composables/useBreakpoints';\r\nimport { useTokens } from '@/providers/tokens.provider';\r\nimport { lsGet } from '@/lib/utils';\r\nimport useWeb3 from '@/services/web3/useWeb3';\r\nimport { StepState } from '@/types';\r\n\r\n/**\r\n * STATE\r\n */\r\nconst isUnknownTokenModalVisible = ref(false);\r\nconst isLoading = ref(true);\r\n\r\n/**\r\n * COMPOSABLES\r\n */\r\nconst {\r\n  activeStep,\r\n  similarPools,\r\n  hasRestoredFromSavedState,\r\n  tokensList,\r\n  seedTokens,\r\n  setActiveStep,\r\n  setRestoredState,\r\n  importState,\r\n  resetPoolCreationState,\r\n  retrievePoolAddress,\r\n  retrievePoolDetails,\r\n} = usePoolCreation();\r\nconst { removeAlert } = useAlerts();\r\nconst { t } = useI18n();\r\nconst { upToLargeBreakpoint } = useBreakpoints();\r\nconst { priceFor, getToken, injectTokens, injectedPrices } = useTokens();\r\nconst route = useRoute();\r\nconst { isWalletReady } = useWeb3();\r\n\r\n/**\r\n * LIFECYCLE\r\n */\r\nonBeforeMount(async () => {\r\n  removeAlert('return-to-pool-creation');\r\n\r\n  let previouslySavedState = lsGet(\r\n    POOL_CREATION_STATE_KEY,\r\n    null,\r\n    POOL_CREATION_STATE_VERSION\r\n  );\r\n  if (\r\n    activeStep.value === 0 &&\r\n    previouslySavedState !== null &&\r\n    !poolCreateTx.value\r\n  ) {\r\n    // need to make sure to inject any tokens that were chosen\r\n    previouslySavedState = JSON.parse(previouslySavedState);\r\n    importState(previouslySavedState);\r\n    setRestoredState(true);\r\n    await nextTick();\r\n    setActiveStep(previouslySavedState.activeStep);\r\n    if (previouslySavedState.createPoolTxHash) {\r\n      await retrievePoolAddress(previouslySavedState.createPoolTxHash);\r\n    }\r\n  } else if (previouslySavedState === null) {\r\n    resetPoolCreationState();\r\n  }\r\n  // make sure to inject any custom tokens we cannot inject\r\n  // after tokens have finished loading as it will attempt to\r\n  // inject 'known' tokens too, as during mount, tokens are still loading\r\n  await injectUnknownPoolTokens();\r\n  isLoading.value = false;\r\n});\r\n\r\n/**\r\n * COMPUTED\r\n */\r\nconst poolCreateTx = computed(() => route.params.tx || '');\r\nconst doSimilarPoolsExist = computed(() => similarPools.value.length > 0);\r\nconst validTokens = computed(() => tokensList.value.filter(t => t !== ''));\r\n\r\nconst unknownTokens = computed(() => {\r\n  return validTokens.value.filter(token => {\r\n    return priceFor(token) === 0 || injectedPrices.value[token]?.usd;\r\n  });\r\n});\r\n\r\nconst hasUnknownToken = computed(() =>\r\n  validTokens.value.some(t => priceFor(t) === 0)\r\n);\r\n\r\nconst steps = computed(() => [\r\n  {\r\n    tooltip: 'Choose tokens & weights',\r\n    state: getStepState(0),\r\n    label: 1,\r\n  },\r\n  {\r\n    tooltip: 'Set pool fees',\r\n    state: getStepState(1),\r\n    label: 2,\r\n  },\r\n  {\r\n    tooltip: 'Similar pools',\r\n    state: StepState.Warning,\r\n    isVisible: doSimilarPoolsExist.value && activeStep.value === 2,\r\n  },\r\n  {\r\n    tooltip: 'Set initial liquidity',\r\n    state: getStepState(3),\r\n    label: 3,\r\n  },\r\n  {\r\n    tooltip: 'Confirm pool creation',\r\n    state: getStepState(4),\r\n    label: 4,\r\n  },\r\n]);\r\n\r\n/**\r\n * FUNCTIONS\r\n */\r\nfunction getStepState(idx: number) {\r\n  if (activeStep.value === idx) {\r\n    return StepState.Active;\r\n  } else {\r\n    if (activeStep.value > idx) {\r\n      return StepState.Completed;\r\n    } else {\r\n      return StepState.Todo;\r\n    }\r\n  }\r\n}\r\n\r\nfunction handleNavigate(stepIndex: number) {\r\n  if (hasRestoredFromSavedState.value) {\r\n    setRestoredState(false);\r\n  }\r\n  setActiveStep(stepIndex);\r\n}\r\n\r\nfunction handleReset() {\r\n  resetPoolCreationState();\r\n  setActiveStep(0);\r\n}\r\n\r\nfunction handleUnknownModalClose() {\r\n  isUnknownTokenModalVisible.value = false;\r\n}\r\n\r\nfunction showUnknownTokenModal() {\r\n  isUnknownTokenModalVisible.value = true;\r\n}\r\n\r\nasync function injectUnknownPoolTokens() {\r\n  const uninjectedTokens = seedTokens.value\r\n    .filter(seedToken => getToken(seedToken.tokenAddress) === undefined)\r\n    .map(seedToken => seedToken.tokenAddress)\r\n    .filter(token => token !== '');\r\n  await injectTokens(uninjectedTokens);\r\n}\r\n\r\n/**\r\n * WATCHERS\r\n */\r\n// can handle the behaviour to show the unknown token modal\r\n// on next step here, rather than having to clutter the\r\n// usePoolCreation composable further\r\nwatch(activeStep, () => {\r\n  if (hasUnknownToken.value && !hasRestoredFromSavedState.value) {\r\n    showUnknownTokenModal();\r\n  }\r\n});\r\n\r\n// we need to wait for a ready wallet before executing this\r\n// as we need that getProvider() call to suceed\r\nwatch(\r\n  isWalletReady,\r\n  async () => {\r\n    if (isWalletReady.value && poolCreateTx.value) {\r\n      await retrievePoolDetails(poolCreateTx.value as string);\r\n    }\r\n  },\r\n  {\r\n    immediate: true,\r\n  }\r\n);\r\n</script>\r\n\r\n<template>\r\n  <div>\r\n    <Col3Layout offsetGutters mobileHideGutters class=\"mt-8\">\r\n      <template #gutterLeft>\r\n        <div v-if=\"!upToLargeBreakpoint\" class=\"col-span-3\">\r\n          <BalStack vertical>\r\n            <BalVerticalSteps\r\n              title=\"Create a weighted pool steps\"\r\n              :steps=\"steps\"\r\n              @navigate=\"handleNavigate\"\r\n            />\r\n            <AnimatePresence\r\n              :isVisible=\"\r\n                doSimilarPoolsExist && activeStep === 0 && !!validTokens.length\r\n              \"\r\n            >\r\n              <SimilarPoolsCompact />\r\n            </AnimatePresence>\r\n          </BalStack>\r\n        </div>\r\n      </template>\r\n      <div class=\"relative center-col-mh\">\r\n        <BalAlert\r\n          v-if=\"!!hasRestoredFromSavedState\"\r\n          type=\"warning\"\r\n          class=\"mb-4\"\r\n          :title=\"$t('createAPool.recoveredState')\"\r\n        >\r\n          {{ $t('createAPool.recoveredStateInfo') }}\r\n\r\n          {{ $t('wantToStartOverInstead') }}\r\n          <button class=\"font-semibold text-blue-500\" @click=\"handleReset\">\r\n            {{ $t('clearForms') }}\r\n          </button>\r\n        </BalAlert>\r\n\r\n        <BalLoadingBlock v-if=\"isLoading\" class=\"h-64\" />\r\n        <ChooseWeights\r\n          v-else-if=\"activeStep === 0 && !hasRestoredFromSavedState\"\r\n        />\r\n        <PoolFees v-else-if=\"activeStep === 1\" />\r\n        <SimilarPools v-else-if=\"activeStep === 2 && similarPools.length > 0\" />\r\n        <InitialLiquidity v-else-if=\"!isLoading && activeStep === 3\" />\r\n        <PreviewPool v-else-if=\"activeStep === 4\" />\r\n\r\n        <div v-if=\"upToLargeBreakpoint\" class=\"pb-24\">\r\n          <BalAccordion\r\n            :dependencies=\"validTokens\"\r\n            :sections=\"[\r\n              { title: t('createAPool.poolSummary'), id: 'pool-summary' },\r\n              { title: t('tokenPrices'), id: 'token-prices' },\r\n            ]\"\r\n          >\r\n            <template #pool-summary>\r\n              <PoolSummary />\r\n            </template>\r\n            <template #token-prices>\r\n              <TokenPrices />\r\n            </template>\r\n          </BalAccordion>\r\n        </div>\r\n      </div>\r\n      <template #gutterRight>\r\n        <div v-if=\"!upToLargeBreakpoint\" class=\"col-span-11 lg:col-span-3\">\r\n          <BalStack vertical spacing=\"base\">\r\n            <PoolSummary />\r\n            <TokenPrices\r\n              v-if=\"validTokens.length > 0\"\r\n              :toggleUnknownPriceModal=\"showUnknownTokenModal\"\r\n            />\r\n          </BalStack>\r\n        </div>\r\n      </template>\r\n    </Col3Layout>\r\n    <UnknownTokenPriceModal\r\n      :isVisible=\"isUnknownTokenModalVisible\"\r\n      :unknownTokens=\"unknownTokens\"\r\n      @close=\"handleUnknownModalClose\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.center-col-mh {\r\n  min-height: 550px;\r\n}\r\n</style>\r\n"],"names":["visibleSteps","computed","props","step","stepTextClasses","getActiveClassName","StepState","stepCircleClasses","handleNavigate","state","stepIndex","emit","classes","_class","_weight","ref","_address","lockPath","lockIcon","isLocked","getToken","useTokens","hasToken","token","lockWeight","keepLocked","anime","onInput","event","watchEffect","emptyTokenWeight","updateTokenWeights","proceed","acceptCustomTokenDisclaimer","setTokensList","seedTokens","tokensList","totalLiquidity","hasInjectedToken","acceptedCustomTokenDisclaimer","usePoolCreation","upToLargeBreakpoint","useBreakpoints","fNum","useNumbers","nativeAsset","isWalletReady","startConnectWithInjectedProvider","useWeb3","t","useI18n","darkMode","useDarkMode","networkName","configService","tokenWeightListWrapper","addTokenRowElement","totalsRowElement","seedTokenElements","cardWrapper","wrapperHeight","cardWrapperHeight","tokenWeightItemHeight","zeroWeightToken","zeroWeightToken2","t2","walletLabel","showLiquidityAlert","totalAllocatedWeight","validTokens","sumBy","totalWeight","isProceedDisabled","excludedTokens","maxTokenAmountReached","progressBarColor","weightColor","watch","w","onMounted","_a","_b","animateHeight","addTokenToPool","nextTick","distributeWeights","onBeforeUpdate","handleWeightChange","weight","id","tokenWeight","handleAddressChange","address","handleLockedWeight","offset","seedTokenElement","i","newWeights","uniqueId","lockedPct","sum","pctAvailableToDistribute","bnum","unlockedWeights","evenDistributionWeight","error","isErrorDivisible","distributableError","normalisedWeights","_","evenDistributionWeight4DP","errorScaledTo4DP","addTokenListElementRef","el","handleRemoveToken","index","handleProceed","onAlertMountChange","isOptimised","networkConfig","useNetwork","balanceFor","priceFor","wrappedNativeAsset","dynamicDataLoading","scaledLiquidity","manuallySetToken","autoOptimiseBalances","currentLiquidity","isWethPool","useNativeAsset","poolLiquidity","createPoolTxHash","getOptimisedLiquidity","goBack","updateManuallySetToken","clearAmounts","setAmountsToMaxBalances","saveState","tokenAddresses","areAmountsMaxed","isExceedingWalletBalance","arbitrageDelta","totalPctDelta","initialPct","expectedPct","delta","hasZeroAmount","seedToken","onBeforeMount","setNativeAssetIfRequired","optimiseLiquidity","scaleLiquidity","force","optimisedLiquidity","toggleAutoOptimise","checkLiquidityScaling","handleMax","handleAmountChange","tokenAddress","newAddress","isSameAddress","tokenOptions","nativeAssetBalance","wrappedNativeAssetBalance","handleClearAll","saveAndProceed","_sfc_main$a","defineComponent","val","onChange","value","sizeClasses","textSizeClass","colorClass","cursrorClass","inputClasses","labelClasses","_createElementVNode","_ctx","_normalizeClass","_hoisted_2","_openBlock","_createElementBlock","FIXED_FEE_OPTIONS","isCustomFee","checkboxState","isInvalidFee","initialFee","feeController","feeManagementType","feeType","setFeeManagement","setFeeType","setFeeController","setTrpController","thirdPartyFeeController","fee","isLoadingSimilarPools","account","customInputClasses","isAddress","feeOptions","option","onFixedInput","onCustomInput","onChangeFeeManagementType","onChangeFeeType","onChangeFeeController","getSrc","item","getArgs","amount","format","group","sample","input","args","list","rgb","rgbToHex","number","grouping","grouped","hex","getImageData","src","resolve","reject","canvas","context","img","data","getProminent","gap","colors","_keyA","valA","_keyB","valB","process","handler","prominent","initEcharts","manualColorMap","chartInstance","updateTokenColors","hasRestoredFromSavedState","tailwind","useTailwind","useUrls","chartConfig","tokenLogoURI","colors2","calculateColors","colorPromises","color","_colors","useInputStyles","isInvalid","attrs","extPaddingClass","intPaddingClass","inputTextSize","inputHeightClass","parentClasses","inputContainerClasses","inputGroupClasses","headerClasses","footerClasses","prependClasses","appendClasses","borderRadiusClasses","__default__","isEditable","inputElement","useAttrs","errors","validate","useInputValidation","onKeydown","onBlur","useInputEvents","inputAttrs","omit","toggleEditable","handleBlur","e","createState","reactive","explorerLinks","useConfig","isTxConfirmed","useEthers","fetchTokenApprovalActions","useTokenApprovalActions","toRef","createPool","joinPool","poolId","poolTypeString","needsSeeding","networkSlug","actions","requiredActions","action","explorerLink","isConfirmed","approvalActions","handleSuccess","details","poolCreated","poolName","poolSymbol","setActiveStep","sortSeedTokens","getScaledAmounts","getPoolSymbol","title","initialWeightLabel","tokenAmounts","hasMissingPoolNameOrSymbol","initialWeights","_initialWeights","hasInvalidInitialWeight","initialWeight","showNativeAssetWarning","seedAmount","navigateToPoolFee","getSwapFeeManager","shortenLabel","getInitialWeightHighlightClass","similarPools","existingPool","setStep","resetPoolCreationState","relevantSimilarPools","take","orderBy","pool","cancel","getPoolLabel","FNumFormats","coingecko","injectedPrices","knownTokens","unknownTokens","hasUnknownPrice","PRICE_CAP","injectPrices","unknownTokenPrices","_unknownTokenPrices","FiatCurrency","readableUnknownTokenSymbols","tokenSymbols","formatWordListAsSentence","isSubmitDisabled","noPricesEntered","hasLargePrice","getIndexOfUnknownToken","injectUnknownPrices","isUnknownTokenModalVisible","isLoading","activeStep","setRestoredState","importState","retrievePoolAddress","retrievePoolDetails","removeAlert","useAlerts","injectTokens","route","useRoute","previouslySavedState","lsGet","POOL_CREATION_STATE_KEY","POOL_CREATION_STATE_VERSION","poolCreateTx","injectUnknownPoolTokens","doSimilarPoolsExist","hasUnknownToken","steps","getStepState","idx","handleReset","handleUnknownModalClose","showUnknownTokenModal","uninjectedTokens"],"mappings":"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","x_google_ignoreList":[7]}