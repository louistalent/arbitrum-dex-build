{"version":3,"file":"MyVeBAL.vue_vue_type_script_setup_true_lang-68c0fe06.js","sources":["../../src/components/forms/lock_actions/LockForm/components/MyVeBAL.vue"],"sourcesContent":["<script setup lang=\"ts\">\r\nimport { format } from 'date-fns';\r\nimport { computed } from 'vue';\r\n\r\nimport { PRETTY_DATE_FORMAT } from '@/components/forms/lock_actions/constants';\r\nimport useNumbers, { FNumFormats } from '@/composables/useNumbers';\r\nimport useVeBal from '@/composables/useVeBAL';\r\nimport { bnum } from '@/lib/utils';\r\nimport { VeBalLockInfo } from '@/services/balancer/contracts/contracts/veBAL';\r\n\r\n/**\r\n * TYPES\r\n */\r\ntype Props = {\r\n  veBalLockInfo?: VeBalLockInfo;\r\n};\r\n\r\n/**\r\n * PROPS\r\n */\r\nconst props = defineProps<Props>();\r\n\r\n/**\r\n * COMPOSABLES\r\n */\r\nconst { veBalBalance, veBalTokenInfo } = useVeBal();\r\nconst { fNum } = useNumbers();\r\n\r\n/**\r\n * COMPUTED\r\n */\r\nconst percentVeBAL = computed(() => {\r\n  if (props.veBalLockInfo != null) {\r\n    const totalSupply = bnum(props.veBalLockInfo.totalSupply);\r\n\r\n    if (totalSupply.gt(0)) {\r\n      return bnum(veBalBalance.value).div(totalSupply).toString();\r\n    }\r\n  }\r\n\r\n  return '0';\r\n});\r\n</script>\r\n\r\n<template>\r\n  <BalCard noPad shadow=\"none\">\r\n    <div class=\"p-4 w-full border-b dark:border-gray-900\">\r\n      <h6>\r\n        {{ $t('getVeBAL.myVeBAL.title') }}\r\n      </h6>\r\n    </div>\r\n    <div class=\"flex justify-center items-center p-10 -mt-2\">\r\n      <div class=\"text-2xl font-semibold\">\r\n        {{ fNum(veBalBalance, FNumFormats.token) }}\r\n        {{ veBalTokenInfo?.symbol }}\r\n      </div>\r\n    </div>\r\n    <div class=\"flex justify-center border-t dark:border-gray-900\">\r\n      <div class=\"p-2 w-1/2 text-center border-r dark:border-gray-900\">\r\n        <div>\r\n          {{\r\n            veBalLockInfo?.hasExistingLock\r\n              ? fNum(percentVeBAL, {\r\n                  style: 'percent',\r\n                  maximumFractionDigits: 4,\r\n                })\r\n              : '-'\r\n          }}\r\n        </div>\r\n        <div class=\"text-gray-400\">\r\n          {{ $t('getVeBAL.myVeBAL.percentVeBAL') }}\r\n        </div>\r\n      </div>\r\n      <div class=\"p-3 w-1/2 text-center\">\r\n        <div>\r\n          {{\r\n            props.veBalLockInfo?.hasExistingLock\r\n              ? format(props.veBalLockInfo.lockedEndDate, PRETTY_DATE_FORMAT)\r\n              : '-'\r\n          }}\r\n        </div>\r\n        <div class=\"text-gray-400\">\r\n          {{\r\n            props.veBalLockInfo?.isExpired\r\n              ? $t('getVeBAL.myVeBAL.expiredOn')\r\n              : $t('getVeBAL.myVeBAL.lockedEndDate')\r\n          }}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </BalCard>\r\n</template>\r\n"],"names":["veBalBalance","veBalTokenInfo","useVeBal","fNum","useNumbers","percentVeBAL","computed","props","totalSupply","bnum"],"mappings":"8lBAyBA,CAAA,aAAAA,EAAA,eAAAC,CAAA,EAAAC,EAAA,EACA,CAAA,KAAAC,GAAAC,IAKAC,EAAAC,EAAA,IAAA,CACE,GAAAC,EAAA,eAAA,KAAA,CACE,MAAAC,EAAAC,EAAAF,EAAA,cAAA,WAAA,EAEA,GAAAC,EAAA,GAAA,CAAA,EACE,OAAAC,EAAAT,EAAA,KAAA,EAAA,IAAAQ,CAAA,EAAA,UACF,CAGF,MAAA,GAAO,CAAA"}